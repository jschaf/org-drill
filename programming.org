* Emacs Questions
** Elisp

*** Dired files                                                       :drill:
SCHEDULED: <2016-04-03 Sun>
:PROPERTIES:
:ID:       34d8abed-eba4-4ad0-814c-14bc929fa90a
:DRILL_LAST_INTERVAL: 60.7733
:DRILL_REPEATS_SINCE_FAIL: 6
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.4
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-02 Tue 12:05]
:END:

How do you run an Emacs command on marked files in dired?

**** Answer
dired-get-marked-files

#+BEGIN_SRC emacs-lisp

(with-current-buffer "org-ref"
  (loop for path in (dired-get-marked-files)
        do (with-current-buffer (find-file-noselect path)
             (indent-region (point-min) (point-max)))))
#+END_SRC

* Programming Questions
** Math
*** Median 1                                                          :drill: 
SCHEDULED: <2015-12-28 Mon> 
:PROPERTIES:
:ID: 6be85ae3-7fbb-42d7-9f95-3c57fba17c95
:DRILL_LAST_INTERVAL: 1.0061 
:DRILL_REPEATS_SINCE_FAIL: 2 
:DRILL_TOTAL_REPEATS: 1
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.0 
:DRILL_EASE: 2.5
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2015-12-27 Sun 20:36] 
:END: 

What is the median?  How is defined for an odd set of number and an even set of numbers?

**** Answer  

It's the middle number.  If the number of elements is even, the median is the mean of the middle two numbers.

** Object Oriented Programming
*** Open Closed Principle                                             :drill:
SCHEDULED: <2016-02-29 Mon>
:PROPERTIES:
:ID:       e5f77354-5bc9-4c14-95de-09ba86eb1f9f
:DRILL_LAST_INTERVAL: 28.4371
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 7
:DRILL_FAILURE_COUNT: 2
:DRILL_AVERAGE_QUALITY: 3.714
:DRILL_EASE: 2.66
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-01 Mon 10:50]
:END:

What is the open closed principle?

**** Answer

Software entities (classes, modules, functions, etc...) should be open for
extension, but closed for modification.

-- Bertrand Meyer


There's some contention about it's viability at Jon Skeet's blog.  He suggests a
better variation of:

http://codeblog.jonskeet.uk/2013/03/15/the-open-closed-principle-in-review/

"Identify points of predicted variation and create a stable interface around
them."

Which is similar to Bloch's advice of "design for inheritance or prohibit it."



https://en.wikipedia.org/wiki/Open/closed_principle

*** Benefits of OOP                                                   :drill:
SCHEDULED: <2016-02-08 Mon>
:PROPERTIES:
:ID:       4941e3e8-f13e-4876-ad11-2879598630c6
:DRILL_LAST_INTERVAL: 21.0787
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 3.75
:DRILL_EASE: 2.32
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-18 Mon 02:54]
:END:

What are the benefits of OO Programing?

**** Answer

+ Code reuse
+ Modularity
+ Encapsulation - hide implmentation details
+ Pluggability

** Java Language
*** Variable Basics                                                   :drill:
SCHEDULED: <2016-03-17 Thu>
:PROPERTIES:
:ID:       dfe6c5a9-33b5-4933-a2c1-9f57ab726506
:DRILL_LAST_INTERVAL: 48.3897
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 8
:DRILL_FAILURE_COUNT: 2
:DRILL_AVERAGE_QUALITY: 3.875
:DRILL_EASE: 2.9
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-29 Fri 15:54]
:END:

What are the 4 types of variables in Java?

**** Answer

1. Instance variables - non-static fields
2. Class variables - static fields
3. Local variables
4. Parameters

*** Primitive Types                                                   :drill:
SCHEDULED: <2016-02-07 Sun>
:PROPERTIES:
:ID:       938d3b90-09e3-45fa-92a4-1cbdc02d4e0e
:DRILL_LAST_INTERVAL: 19.8578
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 3.667
:DRILL_EASE: 2.36
:DRILL_LAST_QUALITY: 3
:DRILL_LAST_REVIEWED: [2016-01-18 Mon 03:16]
:END:

What are Java's primitive types?

**** Answer

+ byte - 8-bit signed two's complement integer
+ short - 16-bit signed two's complement integer
+ int - 32-bit signed two's complement integer
+ long - 64-bit signed two's complement integer
+ float - single-precision 32-bit IEEE 745 floating point
+ long - double-precision 64-bit IEEE 745 floating point
+ char - 16-bit Unicode char
+ boolean - true and false

*** Primitive Types 2                                                 :drill:
SCHEDULED: <2016-02-24 Wed>
:PROPERTIES:
:ID:       d2b0df5b-4bea-4a10-9de1-dfdab03d4796
:DRILL_LAST_INTERVAL: 33.5488
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.5
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-21 Thu 13:26]
:END:

What are the default values for all primitive types?

**** Answer

Default values are only given to fields, not to local variables or parameters.

byte: 0
short: 0
int: 0
long: 0L
float: 0.0f
double: 0.0d
char: '\u0000'
Sting or any object: null
boolean: false

*** Integer Literals                                                  :drill:
SCHEDULED: <2016-04-05 Tue>
:PROPERTIES:
:ID:       c966a52c-6989-4f50-891a-dbbb88ae72a9
:DRILL_LAST_INTERVAL: 64.5187
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 4.2
:DRILL_EASE: 2.8
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-31 Sun 10:31]
:END:

What integer literals does Java support?

**** Answer

integer - no suffix
long - l or L suffix, L is preferred
base 2 - 0b11
base 16 - 0xcafebabe
underscores, anywhere but the beginning and the end

*** Floating point literals                                           :drill:
SCHEDULED: <2016-02-12 Fri>
:PROPERTIES:
:ID:       c417f903-19a7-4d7f-9d30-9a2730839ee8
:DRILL_LAST_INTERVAL: 14.6469
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 6
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.66
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-01-28 Thu 16:53]
:END:

What floating point literals does Java support?

**** Answer

+ float - f or F suffix
+ double - d or D suffix
+ scientific notation - e or e, 1.234e2
+ underscores, anywhere but the beginning and the end or next to a decimal

*** Char literals                                                     :drill:
SCHEDULED: <2016-02-19 Fri>
:PROPERTIES:
:ID:       6ace1daf-5b6a-469b-b110-39ed0119e184
:DRILL_LAST_INTERVAL: 27.1888
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 8
:DRILL_FAILURE_COUNT: 2
:DRILL_AVERAGE_QUALITY: 3.5
:DRILL_EASE: 2.46
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-23 Sat 23:45]
:END:

What char and string literals does Java support?

**** Answer

any UTF-16 values
unicode escapes - '\u0108', "S\u00ED"
escape sequences - \b backspace, \t tab, \n, \f, \r, \", \', \\

*** Class Literal                                                     :drill:
SCHEDULED: <2016-02-28 Sun>
:PROPERTIES:
:ID:       4d3cb5a7-cefd-49e1-8eef-5ffc815b67cd
:DRILL_LAST_INTERVAL: 34.5786
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.6
:DRILL_EASE: 2.46
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-24 Sun 15:38]
:END:

What is a class literal in Java?

**** Answer

Appending ".class" to a type name, e.g. String.class.  Refers to the object that
represents the type itself.

*** Arrays 1                                                          :drill:
SCHEDULED: <2016-02-23 Tue>
:PROPERTIES:
:ID:       a19ccb8f-c14f-40c0-879b-1ed771349a05
:DRILL_LAST_INTERVAL: 33.4739
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.46
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-21 Thu 13:26]
:END:

How do you declare an array type in Java?

**** Answer

MyType[] anArray;
MyType anArray[]; - WORKS, but BAD

*** Arrays Copying                                                    :drill:
SCHEDULED: <2016-03-04 Fri>
:PROPERTIES:
:ID:       9d2af5e1-b9c1-4715-b227-0eb84708747e
:DRILL_LAST_INTERVAL: 34.5798
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 6
:DRILL_FAILURE_COUNT: 2
:DRILL_AVERAGE_QUALITY: 3.167
:DRILL_EASE: 2.32
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-29 Fri 15:36]
:END:

How do you copy an array in Java?

**** Answer

System.arraycopy(Object src, int srcPos, Object dest, int destPos, int length)

Copy into initialized array, returns void.

Arrays.copyOf(T[] original, int newLength)
Copy into new array, truncates or pads with nulls to get newLength

Arrays.copyOfRange(T[] original, int from, int to)
Copies specified range into a new array

*** Reference Types                                                   :drill:
SCHEDULED: <2016-03-07 Mon>
:PROPERTIES:
:ID:       37cb8ba4-f7e8-4420-aa99-623b76180cfb
:DRILL_LAST_INTERVAL: 36.2444
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.75
:DRILL_EASE: 2.8
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-31 Sun 10:30]
:END:

What are Java's reference types and when do they get garbage collected?

**** Answer

+ Direct reference - when no references exist
+ SoftReference - eligible for collection with low memory warning
+ WeakReference - when no direct references exist
+ PhantomReference - relate to cleanup and offer notification before finalization

*** Formatting String                                                 :drill:
SCHEDULED: <2016-02-22 Mon>
:PROPERTIES:
:ID:       fc8e3d5f-db93-4482-a0b9-5b55cec511c8
:DRILL_LAST_INTERVAL: 28.5502
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.46
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-24 Sun 15:33]
:END:

How do you format a string in Java?

**** Answer

Creating a string
String.format(Locale l, String format, Object... args)
String.format(String format, Object... args)

Printing
System.out.printf(String formatString, Object... args)
System.out.format(String formatString, Object... args)

*** Format Specifier Syntax                                           :drill:
SCHEDULED: <2016-02-03 Wed>
:PROPERTIES:
:ID:       c531d30c-d996-4c67-a870-f5cc6faef83e
:DRILL_LAST_INTERVAL: 14.4424
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 7
:DRILL_FAILURE_COUNT: 2
:DRILL_AVERAGE_QUALITY: 3.0
:DRILL_EASE: 2.08
:DRILL_LAST_QUALITY: 3
:DRILL_LAST_REVIEWED: [2016-01-20 Wed 11:12]
:END:

What is the syntax for a format specifier?

**** Answer

~%[argument_index$][flags][width][.precision]conversion~

https://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html

*** Formatter - General Conversions                                   :drill:
SCHEDULED: <2016-02-08 Mon>
:PROPERTIES:
:ID:       1186f080-5d43-40a7-8045-7aae066f84b1
:DRILL_LAST_INTERVAL: 16.5327
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.4
:DRILL_EASE: 2.32
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-22 Fri 17:15]
:END:

What general conversions are supported in a format specifier?

**** Answer

*General*

+ b, B - "false" if null, String.valueOf(arg) if boolean, otherwise "true"
+ h, H - "null" if null, otherwise Integer.toHexString(arg.hashCode())
+ s, S - "null" if null, if arg is Formattable then arg.FormatTo, otherwise
  arg.toString.

https://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html

*** Formatter - Character Conversions                                 :drill:
SCHEDULED: <2016-02-17 Wed>
:PROPERTIES:
:ID:       25a7e8cc-dd99-40cf-9642-8e46cfb690ed
:DRILL_LAST_INTERVAL: 25.011
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.5
:DRILL_EASE: 2.66
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-23 Sat 23:41]
:END:

What character conversions are supported in a format specifier?

**** Answer
*Character*
+ c, C - Unicode character

https://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html

*** Formatter - Integral Conversions                                  :drill:
SCHEDULED: <2016-03-02 Wed>
:PROPERTIES:
:ID:       30a7dece-1423-44b7-9460-3cbd24bbf374
:DRILL_LAST_INTERVAL: 33.4352
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.8
:DRILL_EASE: 2.56
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-01-29 Fri 15:36]
:END:

What Integral conversions are supported in a format specifier?

**** Answer
*Integral*
+ d    - decimal integer
+ o    - octal integer
+ x, X - hexadecimal integer

*** Formatter - Floating Point Conversions                            :drill:
SCHEDULED: <2016-02-14 Sun>
:PROPERTIES:
:ID:       3fcd21ba-88ce-4022-bede-a4643cd26345
:DRILL_LAST_INTERVAL: 21.8793
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.46
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-23 Sat 23:40]
:END:

What floating point conversions are supported in a format specifier?

**** Answer
*Floating Point*
+ e, E - decimal number in computerized scientific notation
+ f    - decimal number
+ g, G - smart decimal number with maybe scientific notation, uses the shorter
  of e and f
+ a, A - hexadecimal floating-point number with significant and exponent

https://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html

*** Formatter - Date time Conversions                                 :drill:
SCHEDULED: <2016-03-07 Mon>
:PROPERTIES:
:ID:       50ed3929-de34-4b06-9cb6-ee7cbcdc3fc8
:DRILL_LAST_INTERVAL: 36.3001
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.5
:DRILL_EASE: 2.66
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-31 Sun 10:32]
:END:

What is the Date time prefix in a format specifier?

**** Answer

*Date Time*
+ t, T - prefix for date/time conversions

https://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html

*** Formatter - Other Conversions                                     :drill:
SCHEDULED: <2016-02-29 Mon>
:PROPERTIES:
:ID:       3a979001-89ca-449c-beca-727caaaa4dd6
:DRILL_LAST_INTERVAL: 30.6225
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.5
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-01-29 Fri 16:07]
:END:

What other conversions are supported in a format specifier?

**** Answer

*Other*
+ %    - literal %
+ n    - platform line separator

https://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html

*** Formatter - Flags                                                 :drill:
SCHEDULED: <2016-02-19 Fri>
:PROPERTIES:
:ID:       28483543-3abc-46e8-9d14-dbaa606e6ca8
:DRILL_LAST_INTERVAL: 21.7197
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 6
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.5
:DRILL_EASE: 2.42
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-01-28 Thu 00:48]
:END:

What flags does java.util.Formatter support?

**** Answer

7 promoted to 007, HIV positive, negative, europe

+ '-'     left-justified
+ '#'     conversion-dependent alternate form
+ '+'     always include a sign
+ ' '     pad with leading spaces for positive values
+ '0'     zero-padded
+ ','     locale specific grouping separators
+ '('     enclose negative numbers in parenthesis

*** Integral different base                                           :drill:
SCHEDULED: <2016-02-15 Mon>
:PROPERTIES:
:ID:       9e2f790c-c1e8-4897-bfc5-cd766456d76e
:DRILL_LAST_INTERVAL: 23.3737
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.4
:DRILL_EASE: 2.32
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-23 Sat 23:37]
:END:

How do you get an integral representation in different bases?

**** Answer

Returns the two's complement version:

Integer.toBinaryString(100);
Integer.toHexString(100);
Integer.toOctalString(100);
Long.*

Return the literal version

BigInteger.toString(radix) // The number is part of bigInteger
Integer.toString(100, 8); // prints 144 - octal
Integer.toString(100, 2); // prints 1100100 - binary
Integer.toString(100,16); // prints 64 - hex

*** Math Min and Max values                                           :drill:
SCHEDULED: <2016-02-06 Sat>
:PROPERTIES:
:ID:       cda0c464-b768-4628-9e69-c408e1bff97e
:DRILL_LAST_INTERVAL: 15.6222
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 2
:DRILL_AVERAGE_QUALITY: 3.8
:DRILL_EASE: 2.8
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-21 Thu 13:20]
:END:

How to do you get the min and max value of a number type in Java?

**** Answer

Integer.MIN_VALUE
Integer.MAX_VALUE

Long.MIN_VALUE
Long.MAX_VALUE

For floating point, the min value is actually the smallest magnitude or smallest
/absolute/ number.  If you want the most negative number, you do
-Float.MAX_VALUE.  That works since IEEE754 is symmetric around 0, unlike ints

Float.MIN_VALUE
Float.MAX_VALUE

Double.MIN_VALUE
Double.MAX_VALUE

Really you should use:

Float.NEGATIVE_INFINITY
Float.POSITIVE_INFINITY

Double.NEGATIVE_INFINITY
Double.POSITIVE_INFINITY

http://stackoverflow.com/questions/3884793/minimum-values-and-double-min-value-in-java

*** Overloaded Return Types                                           :drill:
SCHEDULED: <2016-02-25 Thu>
:PROPERTIES:
:ID:       b9e3c6f1-927a-487f-b702-28b958ddb849
:DRILL_LAST_INTERVAL: 27.4824
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.6
:DRILL_EASE: 2.46
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-01-29 Fri 16:06]
:END:

Can you overload a method by return type in Java?

**** Answer

No, because you are not required to capture the the return value of a method in
Java, so the compiler cannot pick between two methods.

#+BEGIN_SRC java
boolean doSomething() {}
int doSomething() {}

doSomething();
#+END_SRC

This limitation is part of Java, but not the JVM.

#+BEGIN_QUOTE
[[http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getMethod-java.lang.String-java.lang.Class][Class.getMethod(String, Class...)]]

Note that there may be more than one matching method in a class because while
the Java language forbids a class to declare multiple methods with the same
signature but different return types, the Java virtual machine does not. This
increased flexibility in the virtual machine can be used to implement various
language features. For example, covariant returns can be implemented with bridge
methods; the bridge method and the method being overridden would have the same
signature but different return types.
#+END_QUOTE
*** Clone Array                                                       :drill:
SCHEDULED: <2016-03-05 Sat>
:PROPERTIES:
:ID:       1d1f12f4-cb3a-4c7a-bbe0-9897a3e5ced1
:DRILL_LAST_INTERVAL: 31.868
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.5
:DRILL_EASE: 2.66
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-02 Tue 12:02]
:END:

What type does Array.clone return?

**** Answer

As of Java 1.5, it returns a shallow copy of the array with the same return
type.

*** Class initialization order                                        :drill:
SCHEDULED: <2016-02-20 Sat>
:PROPERTIES:
:ID:       b5363986-8d46-4f21-87ad-3299e06cd59e
:DRILL_LAST_INTERVAL: 22.0268
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.6
:DRILL_EASE: 2.46
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-29 Fri 15:39]
:END:

What order are classes initialized in the following code?

#+BEGIN_SRC java
class Grandparent {
    static { System.out.println("static - grandparent"); }

    { System.out.println("instance - grandparent"); }

    public Grandparent() { System.out.println("constructor - grandparent"); }
}

class Parent extends Grandparent {
    { System.out.println("instance - parent"); }

    public Parent() { System.out.println("constructor - parent"); }

    static { System.out.println("static - parent"); }
}

class Child extends Parent {
    public Child() { System.out.println("constructor - child"); }

    static { System.out.println("static - child"); }

    { System.out.println("instance - child"); }
}

public class LoadTest {
    public static void main(String[] args) {
        System.out.println("START");
        new Child();
        System.out.println("END");
    }
}

#+END_SRC

**** Answer

START
static - grandparent
static - parent
static - child
instance - grandparent
constructor - grandparent
instance - parent
constructor - parent
instance - child
constructor - child
END

http://stackoverflow.com/questions/23093470/java-order-of-initialization-and-instantiation
http://stackoverflow.com/questions/2007666/in-what-order-do-static-initializer-blocks-in-java-run
http://docs.oracle.com/javase/specs/jls/se8/html/jls-12.html#jls-12.4.1

*** Class intialization                                               :drill:
SCHEDULED: <2016-03-01 Tue>
:PROPERTIES:
:ID:       4a16e638-6b5f-4650-9269-7e534efd74c4
:DRILL_LAST_INTERVAL: 29.3629
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.5
:DRILL_EASE: 2.66
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-01 Mon 10:52]
:END:

When are Java classes initialized?

**** Answer

A class or interface is initialized on first access of non-compile-time constant:

+ assigning compile time constants
+ recursively initializing the superclass
+ processing the static initializers (if not already complete)

Initialization does not occur when accessing fields that are compile time constants. 

http://stackoverflow.com/questions/23093470/java-order-of-initialization-and-instantiation

*** Compile time constants                                            :drill:
SCHEDULED: <2016-02-06 Sat>
:PROPERTIES:
:ID:       2c7534cd-5b20-42ad-b72b-114fa56ff988
:DRILL_LAST_INTERVAL: 10.7826
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 8
:DRILL_FAILURE_COUNT: 3
:DRILL_AVERAGE_QUALITY: 3.375
:DRILL_EASE: 2.56
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-26 Tue 18:18]
:END:

What are compile time constants in Java?

**** Answer

+ Literals of primitive types and literal strings.
+ Casts to primitive types and strings.
+ All operators excepts ++ and --
+ Simple and qualified names that refer to constant expressions.

http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#d5e30892

*** String vs StringBuilder vs StringBuffer                           :drill:
SCHEDULED: <2016-02-11 Thu>
:PROPERTIES:
:ID:       71b8ea5d-535f-4a21-853d-f2319f7d2c69
:DRILL_LAST_INTERVAL: 9.8722
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.8
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-01 Mon 10:47]
:END:

What are the differences between String, StringBuilder and StringBuffer?

**** Answer

String is immutable and stored in the constant String pool.
StringBuilder is not threadsafe and is stored on the heap.
StringBuffer is threadsafe and is stored on the heap, but is slower than string builder.

You should generally use StringBuilder.  If you need synchronization,
synchronize on the string builder.

Both StringBuilder and StringBuffer extend AbstractStringBuilder.

http://stackoverflow.com/questions/355089/stringbuilder-and-stringbuffer

*** Varargs                                                           :drill:
SCHEDULED: <2016-02-04 Thu>
:PROPERTIES:
:ID:       7b5fe7f3-70ef-4606-b523-e246dc95cddc
:DRILL_LAST_INTERVAL: 6.7707
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 2
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-28 Thu 00:50]
:END:

How do you declare varargs in Java?

**** Answer

#+BEGIN_SRC java
public static void main(String... args) {
    System.out.println(Arrays.toString(args));
}
#+END_SRC

*** Varargs type                                                      :drill:
SCHEDULED: <2016-02-13 Sat>
:PROPERTIES:
:ID:       262bfbad-9446-443f-81f8-c09cebe80766
:DRILL_LAST_INTERVAL: 11.658
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.667
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-01 Mon 10:46]
:END:

What type is a varargs argument in Java

**** Answer

The Java Language Specification (third edition) section 8.4.1 says that "If the
last formal parameter is a variable arity parameter of type T, it is considered
to define a formal parameter of type T[]".

*** Multidimensional array - declaration                              :drill:
SCHEDULED: <2016-02-04 Thu>
:PROPERTIES:
:ID:       0a364e54-1afd-451a-9a8e-6b61e1a2d682
:DRILL_LAST_INTERVAL: 4.1716
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 2
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-31 Sun 02:48]
:END:

How do you declare a multidimensional array in Java?

**** Answer

#+BEGIN_SRC java
int[][][] threeDimArray = new int[3][3][3];
int[][][] threeDimInit = { 
    { {1, 2}, {3, 4}, },
    { {5, 6}, {7, 8}, },
};
#+END_SRC

*** Multidimensional array - access                                   :drill:
SCHEDULED: <2016-02-04 Thu>
:PROPERTIES:
:ID:       7d40698d-7e03-4131-9c09-a164213aba57
:DRILL_LAST_INTERVAL: 3.5584
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 2
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-31 Sun 02:48]
:END:

How do you access an item in a multidimensional array in Java?

**** Answer

#+BEGIN_SRC java
int[][][] threeDimArray = new int[3][3][3];
int myItem = threeDimArray[0][1][2];
#+END_SRC

*** Multidimensional array - String representation                    :drill:
SCHEDULED: <2016-02-04 Thu>
:PROPERTIES:
:ID:       a364ea37-eeba-400f-9e5c-7d2c17349540
:DRILL_LAST_INTERVAL: 4.8968
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 2
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-30 Sat 00:13]
:END:

How do you get a string representation of a multidimensional array in Java?

**** Answer

#+BEGIN_SRC java
int[][][] threeDimArray = new int[3][3][3];
Arrays.deepToString(threeDimArray);
// [[[1, 2], [3,4]], [[5, 6], [7, 8]]]
#+END_SRC

*** Create a memory leak                                              :drill:
SCHEDULED: <2016-02-04 Thu>
:PROPERTIES:
:ID:       2c16baf7-a2b4-4e42-97ce-92816dc2cfd9
:DRILL_LAST_INTERVAL: 4.2471
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 2
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 3.5
:DRILL_EASE: 2.36
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-01-31 Sun 10:27]
:END:

How can you create a memory leak in Java?

**** Answer

Brain-stand leak, load class with backhoe, not close hole, unintentional object retention

For a real memory leak, classloader leaks will actually leak memory.

From http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java

1. The application creates a long-running thread (or use a thread pool to leak
   even faster).
2. The thread loads a class via an (optionally custom) ClassLoader.
3. The class allocates a large chunk of memory (e.g. new byte[1000000]), stores
   a strong reference to it in a static field, and then stores a reference to
   itself in a ThreadLocal. Allocating the extra memory is optional (leaking the
   Class instance is enough), but it will make the leak work that much faster.
4. The thread clears all references to the custom class or the ClassLoader it
   was loaded from.
5. Repeat.

From http://frankkieviet.blogspot.com/2006/10/classloader-leaks-dreaded-permgen-space.html

Any reference from outside an application to an object inside the application of
which the class is loaded by the application's classloader will cause a
classloader leak.

For unintentional object retention:

+ Any Object that manages it's own memory, resizable array, stack, queue, etc...
+ Callbacks
+ Memory that's not reachable by the JVM, such as that allocated by native
  methods.
+ Not closing connections or files.

*** Relationship between hashcode and equals                          :drill:
SCHEDULED: <2016-02-04 Thu>
:PROPERTIES:
:ID:       57a4b3cb-5206-475a-b876-490ee17f8812
:DRILL_LAST_INTERVAL: 3.9267
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 2
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.5
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-01-31 Sun 02:46]
:END:

What is the relationship between hashCode and equals?  

What is their significance?

**** Answer

equals general contract - symmetric, reflexive, transitive, consistent,
non-nullity

hashCode general contract - consistent, equals -> same hashCode, different
equals -> not necessarily different hashCode.

Equal objects must produce the same hash code as long as they are equal,
however unequal objects need not produce distinct hash codes.

*** Interfaces: Call default methods                                  :drill:
SCHEDULED: <2016-02-06 Sat>
:PROPERTIES:
:ID:       91df68d1-253f-4f3f-84f4-005400946e02
:DRILL_LAST_INTERVAL: 5.9977
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-31 Sun 10:21]
:END:

How do you call a default method explicitly?

**** Answer

MyInterface.super.theDefaultMethod();

This only works if ~MyInterface~ is an immediate parent of the implementing
class or extending interface.  Grandchildren can't do this.

*** Interface multiple inheritance                                    :drill:
SCHEDULED: <2016-02-05 Fri>
:PROPERTIES:
:ID:       c1d5b898-6c74-4440-8960-0f4e2d501bbf
:DRILL_LAST_INTERVAL: 4.5872
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 2
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.5
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-01-31 Sun 02:48]
:END:

Can an interface extend multiple interfaces?

**** Answer

Yes, there is no diamond problem unless default methods conflict from the parent
interfaces.  If default methods from two interfaces have the same signature,
then you must provide an implementation as either an overriding method or as a
default method for an interface.  Otherwise the compiler will error.

http://stackoverflow.com/questions/19546357/can-an-interface-extend-multiple-interfaces-in-java

http://codeinventions.blogspot.com/2014/07/can-interface-extend-multiple.html

#+BEGIN_SRC java
public class MultInterfaces {

    interface Washable {
    default void prepare() {
        System.out.println("Washable: preparing");
    }
        void wash();

    }

    interface Cleanable {
        default void prepare() {
            System.out.println("Cleanable: preparing");
        }
        void wash();
    }

    interface WashAndCleanable extends Washable, Cleanable {

        default void prepare() {
            System.out.println("WashAndCleanable: preparing");
            Washable.super.prepare();
            Cleanable.super.prepare();
        }
    }


    static class WasherMan implements WashAndCleanable {

        @Override
        public void prepare() {
            System.out.println("WasherMan: preparing");
            WashAndCleanable.super.prepare();
        }

        @Override
        public void wash() {
            System.out.println("Washing");
        }
    }

    public static void main(String... args) {
        WashAndCleanable washMan = new WasherMan();
        washMan.prepare();
        washMan.wash();
    }

}
#+END_SRC

*** String final class                                                :drill:
SCHEDULED: <2016-02-06 Sat>
:PROPERTIES:
:ID:       c87ea6d6-5a7d-4272-b0a3-7714da8852d1
:DRILL_LAST_INTERVAL: 5.9662
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 2
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.5
:DRILL_EASE: 2.6
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-31 Sun 10:22]
:END:

Why is String final?

**** Answer

Since String is an immutable class, allowing a subclass could break the
equals and hashCode contract, or the fake string might equals the same, but
wouldn't be the same.

*** Wait, notify and notifyAll on Object                              :drill:
SCHEDULED: <2016-02-05 Fri>
:PROPERTIES:
:ID:       c7332c74-7a12-458f-8147-c24890814a44
:DRILL_LAST_INTERVAL: 4.5331
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-31 Sun 10:20]
:END:

What are wait, notify and notifyAll defined on Object?

**** Answer

Because you wait on a given object, or more specifically, its monitor, to use
this functionality.

http://stackoverflow.com/questions/1769489/why-are-wait-and-notify-declared-in-javas-object-class

*** TODO Sun JVM memory regions                                            
:PROPERTIES:
:ID:       ddef18a8-22ad-487c-abbe-6e19b6778ea1
:END:

Question

PermGen, default 64mb

**** Answer

Answer

*** Why does Java not having reified types matter?                    :drill:
SCHEDULED: <2016-02-04 Thu>
:PROPERTIES:
:ID:       b64319d7-d9a2-49ae-9234-71d7a08ff53a
:DRILL_LAST_INTERVAL: 3.6561
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 2
:DRILL_AVERAGE_QUALITY: 3.0
:DRILL_EASE: 2.32
:DRILL_LAST_QUALITY: 3
:DRILL_LAST_REVIEWED: [2016-01-31 Sun 02:47]
:END:

Why should I care that Java doesn't have reified generics?

**** Answer

King Java, Dispatch - The General, Pam - Archer, Hamster Wheel, Pam Run, Array
of Pams

+ You can't do multiple dispatch on parameterized types:
  #+BEGIN_SRC java 
  public void my_method(List<String> input) { ... }
  public void my_method(List<Integer> input) { ... }
  #+END_SRC

+ Use generics with arrays.  Arrays are reified, generics you can't instantiate
  E[] or List<E>[]

+ You can't use parameterized exceptions.  The catch block of a try-catch checks
  using instanceof.  The instanceof operator requires a reifiable type.

+ Performance improvements.  Specialized generics would have more info available
  for optimization.

+ No support for run time type information.  You have to pass a class token in
  if you want type support.
 
http://stackoverflow.com/questions/1927789/why-should-i-care-that-java-doesnt-have-reified-generics

*** Limitations on Generics                                           :drill:
SCHEDULED: <2016-02-03 Wed>
:PROPERTIES:
:ID:       9027c47c-5b46-4f17-82b2-ca8c766a1cbd
:DRILL_LAST_INTERVAL: 1.5001
:DRILL_REPEATS_SINCE_FAIL: 2
:DRILL_TOTAL_REPEATS: 7
:DRILL_FAILURE_COUNT: 4
:DRILL_AVERAGE_QUALITY: 2.428
:DRILL_EASE: 2.08
:DRILL_LAST_QUALITY: 3
:DRILL_LAST_REVIEWED: [2016-02-01 Mon 10:58]
:END:

What are the limitations on generics in Java?

**** Answer

Java jail, primitives, PanAm Leo DiCaprio, static DiCaprio, cast DiCaprio,
rollercoaster DiCaprio, thrown, heavy ruck.

1. Can't instantiate generic types with primitive types.
2. Can't create instances of type parameters.
3. Can't declare static fields whose types are type parameters.
4. Can't use casts or instanceof with parameterized types.
5. Can't create arrays of parameterized types.
6. Can't create catch or throw objects of parameterized types.
7. Can't overload a method where the formal type parameter erases to the same
   type.

*** Implied keywords on nested interfaces and enums                   :drill:
SCHEDULED: <2016-02-05 Fri>
:PROPERTIES:
:ID:       4f528049-fb9d-4bc1-80ac-a6f3cdd3db98
:DRILL_LAST_INTERVAL: 5.1398
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 2
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-31 Sun 10:28]
:END:

What keywords are implied on nested interfaces and enums in Java? 

**** Answer

static

[[https://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.1.3][JLS (ยง8.5)]] Member interfaces are always implicitly static so they are never
considered to be inner classes

[[https://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.9][JLS (ยง8.9)]] Nested enum types are implicitly static. It is permissible to
explicitly declare a nested enum type to be static.

*** Generics - Instance of type parameter workaround                  :drill:
SCHEDULED: <2016-02-04 Thu>
:PROPERTIES:
:ID:       a9ef4294-6bcf-42e4-ac16-40d63519cb15
:DRILL_LAST_INTERVAL: 1.6857
:DRILL_REPEATS_SINCE_FAIL: 2
:DRILL_TOTAL_REPEATS: 2
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.0
:DRILL_EASE: 2.6
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-02 Tue 12:07]
:END:

What workaround can you use to declare an instance of a type parameter?

**** Answer

Pass a type token into the method and call ~newInstance()~ on the type token.

#+BEGIN_SRC java
public static <E> void append(List<E> list, Class<E> cls) { 
    E elem = cls.newInstance();
    list.add(elem);
}
#+END_SRC

** Design Patterns

http://gameprogrammingpatterns.com/singleton.html

*** Singleton 1                                                       :drill:
SCHEDULED: <2016-02-26 Fri>
:PROPERTIES:
:ID:       92910693-0727-4cb6-8180-b879843f0a75
:DRILL_LAST_INTERVAL: 35.9085
:DRILL_REPEATS_SINCE_FAIL: 6
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.2
:DRILL_EASE: 2.56
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-21 Thu 13:27]
:END:

What is the Singleton pattern?

**** Answer

Singleton is a class which only has one instance in a whole application. The
class provides a getInstance() method to access the singleton instances.

*** Singleton 2                                                       :drill:
SCHEDULED: <2016-02-07 Sun>
:PROPERTIES:
:ID:       5e4c1b0b-ede4-43cf-943d-d83c847691ac
:DRILL_LAST_INTERVAL: 16.7425
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 9
:DRILL_FAILURE_COUNT: 2
:DRILL_AVERAGE_QUALITY: 3.222
:DRILL_EASE: 2.18
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-21 Thu 13:22]
:END:

What are the advantages of a Singleton pattern?

**** Answer

+ Singletons can implement interfaces and inherit from other classes.
+ Singletons can be lazy loaded.  Handy for expensive resources or DB connections.
+ Singletons can be extended into a factory.

*** Singleton 3                                                       :drill:
SCHEDULED: <2016-03-21 Mon>
:PROPERTIES:
:ID:       7b32a2a7-f9c6-464d-a387-53a852634a45
:DRILL_LAST_INTERVAL: 50.4536
:DRILL_REPEATS_SINCE_FAIL: 6
:DRILL_TOTAL_REPEATS: 9
:DRILL_FAILURE_COUNT: 4
:DRILL_AVERAGE_QUALITY: 2.889
:DRILL_EASE: 2.6
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-01-31 Sun 10:29]
:END:

What are the disadvantages of a Singleton pattern?

**** Answer

+ May introduce global state which makes it harder to reason about code.
+ Encourages tight coupling.
+ Makes unit-testing in isolation difficult.
+ Hides dependencies within the Singleton that can attach to everything.
+ Difficult to parallelize because of mutable state.
+ Inability to subclass because of private constructor.

*** Singleton 4                                                       :drill:
SCHEDULED: <2016-02-07 Sun>
:PROPERTIES:
:ID:       f6b95c46-c338-4c84-bcb6-8773f38d6282
:DRILL_LAST_INTERVAL: 23.5836
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 7
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.714
:DRILL_EASE: 2.42
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-14 Thu 20:18]
:END:

What are the alternatives to a Singleton pattern?

**** Answer

+ Dependency Injection by creating an interface and default implementation,
  construct a single instance at the top of your application and passing it to
  components.

*** List design patterns                                            :drill:
SCHEDULED: <2016-02-14 Sun>
:PROPERTIES:
:ID:       14175568-52ec-4096-b33d-129f38a1de3e
:DRILL_LAST_INTERVAL: 23.8587
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.0
:DRILL_EASE: 2.22
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-01-21 Thu 13:09]
:END:

What are the most common design patterns?

**** Answer

Hitler singleton

+ Singleton
+ Iterator
+ Factory
+ Builder
+ Adapter
+ MVC
+ Decorator
+ Facade
+ Observer
+ Strategy
+ Command

** Arrays
*** Array 1 :drill:
SCHEDULED: <2016-02-03 Wed>
:PROPERTIES:
:ID:       15ac94ff-d684-4ff4-9660-88f3b64c5cfa
:DRILL_LAST_INTERVAL: 25.4648
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.25
:DRILL_EASE: 2.6
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-09 Sat 23:11]
:END:

How would you keep track of a median while getting a stream of numbers?

**** Answer

Use a balanced binary tree where instead of keeping track of the height of the
left and right nodes, we keep track of the number of elements.

A better solution, that doesn't involve new data structures is to use a min heap
and a max heap.  Python only provides a min-heap, so you can fake a max-heap by
multiplying by each number by -1 before inserting and then reversing it on a
pop or get-min.

http://www.ardendertat.com/2011/11/03/programming-interview-questions-13-median-of-integer-stream/

** Sorting

*** Bubble sort                                                     :drill:
SCHEDULED: <2016-02-13 Sat>
:PROPERTIES:
:ID:       45FF61B9-A095-4F7A-B7E2-2ED612001C56
:DRILL_LAST_INTERVAL: 32.0057
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.75
:DRILL_EASE: 2.8
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-12 Tue 22:28]
:END:

How is bubble sort implemented?

**** Answer

Adjacent items are repeatedly compared.

https://en.wikipedia.org/wiki/Bubble_sort

*** Quick Sort                                                      :drill:
SCHEDULED: <2016-02-09 Tue>
:PROPERTIES:
:ID:       A9B6BC51-C1E8-46DC-9288-9EFF8126261A
:DRILL_LAST_INTERVAL: 26.3435
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.5
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-14 Thu 20:22]
:END:

What is quicksort's running time and space complexity?

**** Answer

Average Time: O(n log n)
Worst case Time: O(n^2)

Space: O(1)

** Hash Tables
*** Implement Hash Table                                            :drill:
SCHEDULED: <2016-02-26 Fri>
:PROPERTIES:
:ID:       12E1B6CF-EE70-42DA-8CB7-495435FEFD7D
:DRILL_LAST_INTERVAL: 34.4217
:DRILL_REPEATS_SINCE_FAIL: 6
:DRILL_TOTAL_REPEATS: 6
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.667
:DRILL_EASE: 2.46
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-23 Sat 23:44]
:END:

How would you implement a hash table?

**** Answer

Use an array of lists, normally referred to as buckets.  This method is
chaining.

Start with some default capacity.  Java HashMap is 16

insert(key, value)
call hashCode to get an int and take it mod length of the array.

Once you get past some threshold, Java's is 75% load factor, you resize the
array.

get(key)

Use hashcode to find the bucket and search the list to find the item.

*** Hash Table Collision Resolution                                   :drill:
SCHEDULED: <2016-02-05 Fri>
:PROPERTIES:
:ID:       F426A0A8-72BE-4F74-8F0E-32381A0D7C99
:DRILL_LAST_INTERVAL: 24.1929
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.46
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-12 Tue 22:24]
:END:

What are the two common hash table implementations techniques?

**** Answer

Chaining and Open addressing

*** Hash Table Open Addressing                                      :drill:
SCHEDULED: <2016-03-03 Thu>
:PROPERTIES:
:ID:       1940C116-6088-47FD-A81B-9B3E190113D7
:DRILL_LAST_INTERVAL: 31.9003
:DRILL_REPEATS_SINCE_FAIL: 6
:DRILL_TOTAL_REPEATS: 10
:DRILL_FAILURE_COUNT: 3
:DRILL_AVERAGE_QUALITY: 2.9
:DRILL_EASE: 1.94
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-01-31 Sun 10:31]
:END:

What are the common techniques for implementing open addressing?

**** Answer

Hopscotch raptors.

+ Hopscotch hashing
+ Linear Probing
+ Quadratic Probing
+ Double Hashing
+ Coalesced hashing
+ Cuckoo Hashing
+ Robin Hood Hashing
+ 2-choice Hashing

*** Hopscotch hashing                                               :drill:
SCHEDULED: <2016-03-01 Tue>
:PROPERTIES:
:ID:       C53D4220-3C93-478B-BEBC-BA862E35D2D8
:DRILL_LAST_INTERVAL: 35.3429
:DRILL_REPEATS_SINCE_FAIL: 6
:DRILL_TOTAL_REPEATS: 8
:DRILL_FAILURE_COUNT: 2
:DRILL_AVERAGE_QUALITY: 3.125
:DRILL_EASE: 2.32
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-01-26 Tue 18:24]
:END:

What is Hopscotch hashing?

**** Answer

Scheme for resolving hash collisions in a table using open addressing.

Each item is guaranteed to be in the neighborhood of the hashed bucket.  In
other words, the item will always be in the original array entry, or in the next
H-1 neighboring entries.

Each bucket contains a hop-information word, an H-bit bitmap, indicating which
of the next H buckets belong to the neighborhood.

To insert an item, use a linear probe to find some spot in the neighborhood of
entry i.

If there is no such spot, find some entry between i and j that could go to j and
still be in the neighborhood.

If you can't fit the new entry or if bucket i contains H items, resize the
table.

Well suited for concurrent hash table and provides good performance at load
factors exceeding 0.9.

https://en.wikipedia.org/wiki/Hopscotch_hashing

http://www.cs.tau.ac.il/~liortzaf/papers/disc2008_submission_98.pdf

http://codecapsule.com/2013/08/11/hopscotch-hashing/

*** Linear Probing                                                  :drill:
SCHEDULED: <2016-03-09 Wed>
:PROPERTIES:
:ID:       619671F6-3126-41E1-99C2-FB06CB4EC830
:DRILL_LAST_INTERVAL: 40.4342
:DRILL_REPEATS_SINCE_FAIL: 6
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.42
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-29 Fri 16:05]
:END:

What is linear probing?

**** Answer

Scheme for resolving hash collisions in a table using open addressing.

Looks in some step size from bucket i.

A small step size provides better locality of reference, but results in
clustering.  Linear probing is sensitive to input distribution.

*** Quadratic Probing                                               :drill:
SCHEDULED: <2016-03-16 Wed>
:PROPERTIES:
:ID:       22C26F8D-EB15-497A-A2C5-E02227A246D8
:DRILL_LAST_INTERVAL: 44.9751
:DRILL_REPEATS_SINCE_FAIL: 6
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.46
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-01-31 Sun 10:32]
:END:

What is Quadratic Probing?

**** Answer

Scheme for resolving hash collisions in a table using open addressing.

Sample sequence for some bucket i:

$i + 1^2, i + 2^2, i + 3^2, i + k^2$

Provides some locality of reference but not as good as linear probing.

*** Double Hashing                                                  :drill:
SCHEDULED: <2016-03-25 Fri>
:PROPERTIES:
:ID:       EE521875-0E0D-4784-9DF8-10076572D119
:DRILL_LAST_INTERVAL: 52.5305
:DRILL_REPEATS_SINCE_FAIL: 6
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.2
:DRILL_EASE: 2.56
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-01 Mon 10:51]
:END:

What is Double Hashing?

**** Answer

Scheme for resolving hash collisions in a table using open addressing.

Uses a second hash function h2 to compute the step size for some value k.  The
ith location for k is represented by:

$h(i, k) = h1(k) + i * h2(k) mod (length array)$

https://en.wikipedia.org/wiki/Double_hashing

*** Coalesced hashing                                               :drill:
SCHEDULED: <2016-02-10 Wed>
:PROPERTIES:
:ID:       1DDEFC35-28AF-45D7-9911-FA560687150A
:DRILL_LAST_INTERVAL: 20.1721
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 7
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.286
:DRILL_EASE: 2.22
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-01-21 Thu 13:21]
:END:

What is Coalesced hashing?

**** Answer

Scheme for resolving hash collisions in a table a hybrid of chaining and open
addressing.

Like chaining, except instead of a list, you reuse buckets of the backing
array.

+ Compute h(k)
+ If there's an item there, find the first open spot and link from the collision
+ If a different key get inserted into another chain, the values are said to
  coalesce.
+ Follow the links until you find an empty spot.

An important optimization is to only hash values to a subset of the table and
leave room for a "cellar" of values instead of coalescing.

Empirical analysis shows that you should use 86% of the size for hashing and
reserve 14% for the cellar.

*** Cuckoo Hashing

What is Cuckoo Hashing?

**** Answer

Scheme for resolving hash collisions in a table using open addressing.

*** Robin Hood Hashing

What is Robin Hood Hashing?

**** Answer

Scheme for resolving hash collisions in a table using open addressing.

*** 2-choice Hashing

What is 2-choice Hashing?

**** Answer

Scheme for resolving hash collisions in a table using open addressing.

** Algorithms

*** Perfect Hashing for Pair of Ints                                  :drill:
SCHEDULED: <2016-02-06 Sat>
:PROPERTIES:
:ID:       592e784d-e09b-44e2-907a-07ac56433737
:DRILL_LAST_INTERVAL: 11.8708
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.667
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-25 Mon 20:41]
:END:

What's a perfect hash for a pair of ints?

**** Answer

+ The Cantor Pairing Function for unbounded sizes
+ If you limit ints to 16 bits, you use the 16 bits separately of an Integer to
  do this: ~a << 16 + b~
+ Szudzik's function

http://stackoverflow.com/questions/919612/mapping-two-integers-to-one-in-a-unique-and-deterministic-way

** System Design

*** IPC - Interprocess communication                                :drill:
SCHEDULED: <2016-02-03 Wed>
:PROPERTIES:
:ID:       8C596422-5A0D-4635-A98A-C103638C5760
:DRILL_LAST_INTERVAL: 10.5888
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 11
:DRILL_FAILURE_COUNT: 3
:DRILL_AVERAGE_QUALITY: 3.182
:DRILL_EASE: 2.18
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-23 Sat 23:38]
:END:

What are the different methods of IPC?

**** Answer

Zoolander.

+ Files
+ Sockets
+ Pipe, e.g. STDIN and STDOUT
+ Named Pipe
+ Semaphore
+ Message Passing
+ Message Queue
+ Signal
+ Shared Memory
+ Memory mapped file

https://en.wikipedia.org/wiki/Inter-process_communication


*** Latency                                                         :drill:
SCHEDULED: <2016-04-06 Wed>
:PROPERTIES:
:ID:       C3100282-E69F-4FE6-BCA1-2350961AC0C7
:DRILL_LAST_INTERVAL: 63.7346
:DRILL_REPEATS_SINCE_FAIL: 6
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.8
:DRILL_EASE: 2.9
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-02 Tue 12:00]
:END:

What is latency?

**** Answer

Latency is the time required to perform some action or produce a result.  It is
measured in units of time.



*** Throughput                                                        :drill:
SCHEDULED: <2016-02-05 Fri>
:PROPERTIES:
:ID:       5FB041A6-CAFF-4317-A86B-39E6AF117500
:DRILL_LAST_INTERVAL: 23.9379
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.5
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-12 Tue 22:34]
:END:

What is throughput?

**** Answer

Throughput is the number of actions executed or results produced per unit of
time.  It is measured in units per unit of time.

** Maven
https://www.udemy.com/apachemaven

* Java Concurrency
** Java Concurrency In Practice
*** Motivating Factors                                                :drill:
SCHEDULED: <2016-03-24 Thu>
:PROPERTIES:
:ID:       e084f79e-8e7c-4677-bbf8-415022b927cd
:DRILL_LAST_INTERVAL: 58.3392
:DRILL_REPEATS_SINCE_FAIL: 6
:DRILL_TOTAL_REPEATS: 7
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.66
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-26 Tue 18:34]
:END:

What are the motivating factors for concurrency?

**** Answer

+ Resource Utilization - waiting for external operations
+ Fairness - share resources with time slicing
+ Convenience - often easier to write programs perform a single task and
  coordinate them

*** Thread Benefits                                                   :drill:
SCHEDULED: <2016-02-06 Sat>
:PROPERTIES:
:ID:       3acd0416-3113-4401-a5f4-58af124d3050
:DRILL_LAST_INTERVAL: 23.3604
:DRILL_REPEATS_SINCE_FAIL: 6
:DRILL_TOTAL_REPEATS: 6
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.333
:DRILL_EASE: 2.32
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-14 Thu 20:16]
:END:

What are the benefits of threads?

**** Answer

+ Exploit multiple processors.
+ Simplicity of modeling, break complicated async workflow into simpler
  synchronous workflows and interact at specific sync points.
+ More responsive user interface.

*** Thread vs Process                                                 :drill:
SCHEDULED: <2016-02-09 Tue>
:PROPERTIES:
:ID:       2505D78D-4817-463B-B40A-CCD23232BD24
:DRILL_LAST_INTERVAL: 24.5691
:DRILL_REPEATS_SINCE_FAIL: 6
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 3.4
:DRILL_EASE: 2.08
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-01-15 Fri 20:45]
:END:

Whats the difference between threads and processes?

**** Answer

A process is an executing instance of a program.  Process provides resources
necessary to execute a program.  A process has:

+ Virtual address space
+ executable code
+ Open handles to system objects
+ a security context
+ A unique PID (process identifier)
+ At least one thread of execution

A thread is the entity within the process that can be scheduled for execution.
Threads share virtual address space of a process.  Each thread maintains:

+ Shared virtual address space from the process
+ Exception handlers
+ scheduling priority
+ thread local storage
+ a unique thread identifier
+ a set of structures to save the thread context until it is scheduled

http://stackoverflow.com/questions/200469/what-is-the-difference-between-a-process-and-a-thread

* Object Oriented Programming
** Types
*** Covariant                                                         :drill:
SCHEDULED: <2016-02-10 Wed>
:PROPERTIES:
:ID:       d42c342e-3741-4bb0-b310-d01cab81551d
:DRILL_LAST_INTERVAL: 13.1616
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 6
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 4.167
:DRILL_EASE: 2.8
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-28 Thu 00:44]
:END:

What is a covariant return type?

**** Answer

In OO programming, a covariant return type of a method is one that can be
replaced by a narrower type when the method is overriden in a subclass.

#+BEGIN_SRC java

class A {
}

// Class B is more narrow than A
class B extends A {
}

class C {
    A getFoo() {
        return new A();
    }
}


class D extends C {
    // Overrides getFoo and returns a more narrow class.
    B getFoo() {
        return new B();
    }
}
#+END_SRC
** Benefits
*** Encapsulation                                                     :drill:
SCHEDULED: <2016-02-08 Mon>
:PROPERTIES:
:ID:       1b9d6914-6168-442a-9988-facdd843d607
:DRILL_LAST_INTERVAL: 13.5558
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 6
:DRILL_FAILURE_COUNT: 2
:DRILL_AVERAGE_QUALITY: 3.333
:DRILL_EASE: 2.5
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-01-25 Mon 20:40]
:END:

What are the benefits of encapsulation?

**** Answer

1. Decouples modules that compromise a system, allowing them to be developed,
   tested, optimized in isolation.
2. Eases the maintenance burden because modules can be understood more quickly
   and debugged with little fear of harming other modules.
3. Modules can be optimized with affecting the correctness of other modules.
4. Increases software reuse because modules that aren't tightly coupled can be
   used in unrelated contexts.

* Effective Java
** Creating and Destroying Objects
*** Item 01: Static Factories vs Constructors                         :drill:
SCHEDULED: <2016-03-16 Wed>
:PROPERTIES:
:ID:       6fe16328-2578-41cd-94cf-6eaa8bccaecc
:DRILL_LAST_INTERVAL: 45.2057
:DRILL_REPEATS_SINCE_FAIL: 6
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.5
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-01-31 Sun 10:29]
:END:

What are the advantages of a static factory over a constructor?

**** Answer

1. Unlike constructors, static factories have names.
2. Unlike constructors, static factories don't have to create a new object every
   time.
3. Unlike constructors, static factories Can return an object of any subtype of
   their return type.
4. They reduce the verbosity of creating parameterized type instances, negated by
   Java diamond operator.

*** Item 01: Disadvantages of Static Factories                        :drill:
SCHEDULED: <2016-02-27 Sat>
:PROPERTIES:
:ID:       2e32ef7c-aad4-492c-a143-0e805019a2db
:DRILL_LAST_INTERVAL: 35.0346
:DRILL_REPEATS_SINCE_FAIL: 6
:DRILL_TOTAL_REPEATS: 7
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.715
:DRILL_EASE: 2.56
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-01-23 Sat 23:44]
:END:

What are the disadvantages of static factories?

**** Answer

1. A class without a public or protected constructor cannot be subclassed.
   Blessing in disguise as it forces composition over inheritance.
2. Static factories are not readily distinguishable from other static methods in
   the API docs.

*** Item 01:Static Factory naming conventions                         :drill:
SCHEDULED: <2016-03-22 Tue>
:PROPERTIES:
:ID:       42469e44-0a29-4251-9905-e683d6273ccc
:DRILL_LAST_INTERVAL: 52.6629
:DRILL_REPEATS_SINCE_FAIL: 6
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 3.8
:DRILL_EASE: 2.36
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-01-29 Fri 15:53]
:END:

What are common names of a static factory?

**** Answer

+ valueOf - return instance that has the "same" value as parameters.
  Essentially a type conversion.
+ of - concise alternative to valueOf
+ getInstance - returns instance that is described by parameters but doesn't
  have same value.  Singleton is the degenerate case.
+ newInstance - like getInstance, but guarantees that each instance is distinct
  from all others
+ getType - like getInstance but used when the factory method is in a different
  class.  Type indicates the return type.
+ new/Type/ - like new instance, but with a new /Type/

*** Item 02: Disadvantages of telescoping constructors                :drill:
SCHEDULED: <2016-02-16 Tue>
:PROPERTIES:
:ID:       5d0e59cb-1bd6-4b82-899d-40eff3015e27
:DRILL_LAST_INTERVAL: 30.634
:DRILL_REPEATS_SINCE_FAIL: 6
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 3.6
:DRILL_EASE: 2.22
:DRILL_LAST_QUALITY: 3
:DRILL_LAST_REVIEWED: [2016-01-16 Sat 14:06]
:END:

What are the disadvantages of telescoping constructors?

**** Answer

+ They are harder to read in client code with many parameters.
+ The allow inconsistency and mandate mutability.
+ A java bean may be in an inconsistent state partway through construction.
+ JavaBeans patterns precludes the possibility of using an immutable class.

*** Item 02: Replacing Telescoping Constructors                       :drill:
SCHEDULED: <2016-03-06 Sun>
:PROPERTIES:
:ID:       5fcef5a1-814a-406c-a435-ee66fa073923
:DRILL_LAST_INTERVAL: 43.0667
:DRILL_REPEATS_SINCE_FAIL: 6
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.2
:DRILL_EASE: 2.56
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-23 Sat 23:45]
:END:

What pattern can you use to replace telescoping constructors?

**** Answer

The builder pattern.

*** Item 02: Builder Pattern 1                                        :drill:
SCHEDULED: <2016-02-11 Thu>
:PROPERTIES:
:ID:       78c527a6-6450-41df-aa53-de80b6d16a74
:DRILL_LAST_INTERVAL: 27.1063
:DRILL_REPEATS_SINCE_FAIL: 6
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 3.6
:DRILL_EASE: 2.22
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-01-15 Fri 20:51]
:END:

What are the advantages to the builder pattern?

**** Answer

+ The builder pattern simulates named parameters.
+ Good choice with classes or static factories that have more than a handful of
  parameters, "say 4 or more"

*** Item 02: Builder Pattern 2                                        :drill:
SCHEDULED: <2016-02-09 Tue>
:PROPERTIES:
:ID:       6a76637e-5331-48fa-8e54-91ddebe1d184
:DRILL_LAST_INTERVAL: 25.4665
:DRILL_REPEATS_SINCE_FAIL: 6
:DRILL_TOTAL_REPEATS: 6
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.333
:DRILL_EASE: 2.36
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-01-15 Fri 20:46]
:END:

How do you make an abstract factory from a builder pattern?

**** Answer

1. Make a builder interface.
2. Use a function like ~Tree buildTree(Builder<? extends Node> nodeBuilder>
   {...}~

*** Item 03: Singleton Impl                                           :drill:
SCHEDULED: <2016-02-23 Tue>
:PROPERTIES:
:ID:       aa694923-3d0b-4674-a339-df7d29f8065c
:DRILL_LAST_INTERVAL: 36.4805
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.333
:DRILL_EASE: 2.6
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-18 Mon 03:22]
:END:

What are the three common methods for implementing a Singleton in Java?

**** Answer

1. public static final field
2. private constructor to initialize a private static final field and static factory getInstance
3. Enum with a single field

*** Item 03: Singleton Enum                                           :drill:
SCHEDULED: <2016-02-06 Sat>
:PROPERTIES:
:ID:       794a10aa-35b6-46af-8845-ca9baa214da5
:DRILL_LAST_INTERVAL: 19.3787
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.6
:DRILL_EASE: 2.46
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-18 Mon 03:12]
:END:

Why is a single-element enum the best way to implement a singleton?

**** Answer

1. It's equivalent to a public field approach
2. More concise
3. Provides serialization machinery for free.
4. Ironclad guarantee against multiple instantiation, even against reflection or serialization attacks.

Effective Java 3

*** Item 04: Noninstantiability                                       :drill:
SCHEDULED: <2016-02-20 Sat>
:PROPERTIES:
:ID:       6559ea73-dbfa-4d3f-90be-178ffa4c4927
:DRILL_LAST_INTERVAL: 30.1053
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.8
:DRILL_EASE: 2.56
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-21 Thu 13:12]
:END:

How do you enforce noninstantiability and when might you do so?

**** Answer

You might have a grouping of static methods like ~java.util.Arrays~ or utility functions.

Make a class noninstaniable by including a private constructor and throw an AssertationError.

This will also prevent the class from being subclassed.

Effective Java 4

*** Item 04: Noninstantiability Abstract                              :drill:
SCHEDULED: <2016-02-11 Thu>
:PROPERTIES:
:ID:       25f88f5c-f8d8-4d8d-8a9c-d3fb11936443
:DRILL_LAST_INTERVAL: 23.5858
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 3.667
:DRILL_EASE: 2.36
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-01-18 Mon 03:24]
:END:

Why doesn't making a class abstract prevent instantiation?

**** Answer

Because you can subclass the abstract class and instantiate the subclass.

*** Item 05: Unnecessary Objects                                      :drill:
SCHEDULED: <2016-02-04 Thu>
:PROPERTIES:
:ID:       5522d806-b622-4968-a64b-73c656113047
:DRILL_LAST_INTERVAL: 11.3547
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 11
:DRILL_FAILURE_COUNT: 3
:DRILL_AVERAGE_QUALITY: 3.183
:DRILL_EASE: 2.0
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-24 Sun 15:23]
:END:

How can you avoid unnecessary objects?

**** Answer

Primitives standing around 7-11

+ Use string literals
+ Prefer primitives and watch out for autoboxing
+ Use a static initializer for objects only set once.

Effective Java 5

*** Item 06: Obsolete Object References                               :drill:
SCHEDULED: <2016-02-14 Sun>
:PROPERTIES:
:ID:       32570943-f46d-4edb-90ee-15b4ea21945d
:DRILL_LAST_INTERVAL: 25.014
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 9
:DRILL_FAILURE_COUNT: 4
:DRILL_AVERAGE_QUALITY: 3.0
:DRILL_EASE: 2.42
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-20 Wed 11:10]
:END:

What is the proper name for a memory leak in a garbage-collected language?

**** Answer

unintentional object retention

*** Item 06: Obsolete Object References Fixes                         :drill:
SCHEDULED: <2016-02-09 Tue>
:PROPERTIES:
:ID:       f933a03d-e252-4082-bba9-f90014e1ac13
:DRILL_LAST_INTERVAL: 19.979
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.0
:DRILL_EASE: 2.08
:DRILL_LAST_QUALITY: 3
:DRILL_LAST_REVIEWED: [2016-01-20 Wed 11:20]
:END:

How do you fix obsolete references?

**** Answer

Null out the object, but this should be the exception, not the rule.

The best way to handle it is to let the object fall out of scope.

*** Item 06: Obsolete Object Reference Alert                          :drill:
SCHEDULED: <2016-02-12 Fri>
:PROPERTIES:
:ID:       502824c2-771b-48ca-b809-02020dd22aa4
:DRILL_LAST_INTERVAL: 22.3504
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 6
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.5
:DRILL_EASE: 2.36
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-01-21 Thu 13:08]
:END:

When will you typically see obsolete references (memory leaks)?

**** Answer

+ Whenever a class manages it's own memory - a stack
+ Caches - weak references
+ Listeners and callbacks

*** Item 06: Obsolete Objects Callbacks                               :drill:
SCHEDULED: <2016-02-09 Tue>
:PROPERTIES:
:ID:       39949c56-c779-4ab1-9947-a8ee04195bf7
:DRILL_LAST_INTERVAL: 22.1144
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 3.75
:DRILL_EASE: 2.32
:DRILL_LAST_QUALITY: 3
:DRILL_LAST_REVIEWED: [2016-01-18 Mon 03:09]
:END:

How do you ensure callbacks are garbage collected?

**** Answer

Store only weak references to them, e.g. storing as keys in a WeakHashMap.

http://www.java-tips.org/java-se-tips-100019/88888889-java-util/1475-using-weakhashmap-for-listener-lists.html

*** Item 07: Avoid Finalizers                                         :drill:
SCHEDULED: <2016-02-05 Fri>
:PROPERTIES:
:ID:       bdd9bdf4-1a9d-4976-a137-25dbdafdd20d
:DRILL_LAST_INTERVAL: 4.9623
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 13
:DRILL_FAILURE_COUNT: 5
:DRILL_AVERAGE_QUALITY: 3.154
:DRILL_EASE: 2.52
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-31 Sun 10:23]
:END:

What are the issues with finalizers?

**** Answer

Womanizer slap ref, double-slap spider web, Conner "accept", zombie

They are unpredictable, often dangerous and generally unnecessary.

+ Unpredictable - no guarantee on execution, never do anything time critical in a finalizer
+ Severe performance penalty for using finalizers versus regular garbage collection.
+ Concurrent execution of finalizers can leave graph-like data structures in a
  corrupt state.
+ Uncaught exceptions in finalizers are ignored and not reported.
+ Finalizers can resurrect objects in corrupt states

*** Item 07: Avoid Finalizers - Alternative                           :drill:
SCHEDULED: <2016-02-09 Tue>
:PROPERTIES:
:ID:       686ef890-f052-4df8-86ce-8a7ed58fa8f7
:DRILL_LAST_INTERVAL: 22.0298
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.42
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-18 Mon 03:12]
:END:

What should you use instead of a finalizers?

**** Answer

An explicit termination method. close, dispose, cancel.

Typically called with a try-finally.

*** Item 07: Avoid Finalizers - Use Cases                             :drill:
SCHEDULED: <2016-02-09 Tue>
:PROPERTIES:
:ID:       9b440ee4-ec6a-4881-abbe-720f15064554
:DRILL_LAST_INTERVAL: 21.7307
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 6
:DRILL_FAILURE_COUNT: 2
:DRILL_AVERAGE_QUALITY: 2.833
:DRILL_EASE: 2.36
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-01-18 Mon 03:17]
:END:

What are valid use cases for finalizers?

**** Answer

+ Safety net if owner forgets to call explicit termination method, but should
  log a warning indicating a bug in the client code.
+ Native peers, assuming the native peer holds no critical resources.

*** Item 07: Avoid Finalizers - Safe Impl                             :drill:
SCHEDULED: <2016-02-23 Tue>
:PROPERTIES:
:ID:       6262a0ed-cd87-446f-b258-f05c1037d8c9
:DRILL_LAST_INTERVAL: 25.6547
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 7
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.285
:DRILL_EASE: 2.08
:DRILL_LAST_QUALITY: 3
:DRILL_LAST_REVIEWED: [2016-01-28 Thu 17:05]
:END:

How should you implement finalizers if you must?

**** Answer

+ Chain with super.finalize(), since it's not done automatically.
+ Use a finalizer guardian in a public, non-final class to ensure the finalizer
  isn't overridden.

** Methods Common to All Objects
*** Item 08: Don't Override Equals                                    :drill:
SCHEDULED: <2016-02-14 Sun>
:PROPERTIES:
:ID:       3e2e805b-2665-456a-b24e-331c47727060
:DRILL_LAST_INTERVAL: 22.0713
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 8
:DRILL_FAILURE_COUNT: 2
:DRILL_AVERAGE_QUALITY: 3.375
:DRILL_EASE: 2.32
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-23 Sat 23:41]
:END:

What conditions should you not override equals?

**** Answer

fork, change random colors, parent, privacy drapes.

1. Each instance of the class is inherently unique, e.g a Thread.
2. You don't care if the class provides a logical equality test.
   java.util.Random probably doesn't need a logical equals.
3. A superclass override equals and the behavior is appropriate for this
   subclass.
4. The class is private or package private and you know equals is never called.
   In which case, you should override it and throw an assertion error.

*** Item 08: Equals method general contracts                          :drill:
SCHEDULED: <2016-03-09 Wed>
:PROPERTIES:
:ID:       7e040020-d7c2-4719-a33c-f410238fb22d
:DRILL_LAST_INTERVAL: 40.9839
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-01-28 Thu 17:06]
:END:

What are the general contracts for the equals method?

**** Answer

+ Reflexive, a == a is true.
+ Symmetric, a == b, b == a
+ Transitive, if a == b and b == c, then a == c.
+ Consistent, returns the same value for multiple invocations.
+ Non-Nullity, x.equals(null) must be false.

*** Item 08: High Quality Equals                                      :drill:
SCHEDULED: <2016-02-21 Sun>
:PROPERTIES:
:ID:       fed0c121-7d93-476c-b640-1e849ec31f5a
:DRILL_LAST_INTERVAL: 27.0376
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.8
:DRILL_EASE: 2.56
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-25 Mon 20:47]
:END:

What are the steps to a high quality equals method?

**** Answer

1. Use the == operator to see if the argument is a reference to this object.  A
   performance optimization.
2. Use the instanceof operator to check if the argument has the right type.  You
   don't need to check for null with instanceof.
3. Cast the argument to the correct type.  The preceeding instanceof guarantees
   that it will succeed.
4. Check equality in all the significant fields of the class.
5. Check to see if it obeys the general contract, reflexive, symmetric,
   transitive, consistent and non-nullity.

*** Item 08: Equals overloading                                       :drill:
SCHEDULED: <2016-03-16 Wed>
:PROPERTIES:
:ID:       ed57b79c-3dcb-45ce-ae9f-7e1b1fd018e9
:DRILL_LAST_INTERVAL: 46.8497
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.5
:DRILL_EASE: 2.66
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-29 Fri 16:07]
:END:

What does the argument type have to be when overriding equals?

**** Answer

Object o, otherwise you're overloading equals instead of overriding it.

*** Item 08: High Quality Equals Impl                                 :drill:
SCHEDULED: <2016-02-17 Wed>
:PROPERTIES:
:ID:       fe0f1e4b-4282-478e-8dbf-295384c0a8d4
:DRILL_LAST_INTERVAL: 24.0059
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.4
:DRILL_EASE: 2.36
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-01-24 Sun 15:35]
:END:

What does a correct equals method look like?

**** Answer

#+BEGIN_SRC java
public boolean equals(Object o) {
    if (o == this) {
        return true;
    }
    if (!(o instanceOf MyClass)) {
        return false;
    }
    MyClass myClass = (MyClass) o;
    return myClass.field1 == this.field1
        && Objects.equals(myClass.field2, this.field2);

}
#+END_SRC

*** Item 09: Override hashCode                                        :drill:
SCHEDULED: <2016-02-21 Sun>
:PROPERTIES:
:ID:       382fa3e9-6ee7-4823-b6ff-e2e77901cafe
:DRILL_LAST_INTERVAL: 28.8564
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.5
:DRILL_EASE: 2.66
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-23 Sat 23:43]
:END:

When should you override hashCode?

**** Answer

Whenever you override equals.  If you don't, you'll violate the general contract
for Object.hashCode.

*** Item 09: hashCode general contract                                :drill:
SCHEDULED: <2016-02-28 Sun>
:PROPERTIES:
:ID:       1aa1df92-7da1-4f7d-b75e-145bbd22fadb
:DRILL_LAST_INTERVAL: 29.6164
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.46
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-01-29 Fri 15:35]
:END:

What is the general contract for Object.hashCode?

**** Answer

1. Consistency - hashCode must return the same number when called on the same object.
2. Equality - if two objects are equal, hashCode must return the same integer.
3. Inequality - not required that hashCode produce a different integer for
   different objects.

*** Item 09: hashCode impl                                            :drill:
SCHEDULED: <2016-02-24 Wed>
:PROPERTIES:
:ID:       d55ad317-672d-4bee-ab65-d11c8941a4d8
:DRILL_LAST_INTERVAL: 29.8999
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 9
:DRILL_FAILURE_COUNT: 4
:DRILL_AVERAGE_QUALITY: 3.111
:DRILL_EASE: 2.42
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-25 Mon 20:48]
:END:

How do you implement hashCode for an object?

**** Answer

1. Start with a prime number, e.g. 37 and set result to it.
2. Compute an int hashCode c for each field in the Object.
   + boolean: f ? 1 : 0;
   + char, byte, short, int: (int) f
   + long: (int) (f ^ (f >>> 32))
   + float: Float.floatToIntBits(f);
   + double: Double.doubletoLongBits(f);
   + object: call hashCode.  If null, return 0 (customary).
   + array: compute significant values with these rules.  If everything is
     significant, call Arrays.hashCode.
3. Combine the hashCode c from step 2 into result with:

   result = 31 * result + c;

*** Item 09: hashCode optimizations                                   :drill:
SCHEDULED: <2016-02-22 Mon>
:PROPERTIES:
:ID:       078c43bc-8da6-4529-9389-a9d7b8f9b156
:DRILL_LAST_INTERVAL: 28.6419
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.66
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-24 Sun 15:23]
:END:

How to you speed up hashCode?

**** Answer

Cache the value in a private field.  Don't skip fields because the has will be unbalanced.

*** Item 10: Why override toString                                    :drill:
SCHEDULED: <2016-03-01 Tue>
:PROPERTIES:
:ID:       4be4efec-848a-4cb3-9617-e3fe055050e0
:DRILL_LAST_INTERVAL: 32.1837
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.5
:DRILL_EASE: 2.66
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-29 Fri 15:55]
:END:

Why should you override toString?

**** Answer

It makes a class much more pleasant to use.  Compare:

{Jenny=PhoneNumber@163b91}
{Jenny=(707) 867-5390}

*** Item 10: override toString format                                 :drill:
SCHEDULED: <2016-02-05 Fri>
:PROPERTIES:
:ID:       d23d8b5b-7371-462a-ab3e-11e3615c244e
:DRILL_LAST_INTERVAL: 15.2087
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.42
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-21 Thu 13:20]
:END:

What info should be in toString?

**** Answer

All of the interesting information. For a PhoneBook class:

"Manhattan white pages (184752 listings)"

The string should be self explanatory.

*** Item 10: override toString format specification                   :drill:
SCHEDULED: <2016-02-08 Mon>
:PROPERTIES:
:ID:       da560596-fcfe-44a1-b831-6af67b1ec2fa
:DRILL_LAST_INTERVAL: 18.4565
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 6
:DRILL_FAILURE_COUNT: 2
:DRILL_AVERAGE_QUALITY: 3.667
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-01-21 Thu 13:15]
:END:

When should you specify the value of toString?

**** Answer

For value classes, since it will serve as a standard, unambiguous, human
readable representation.

You should provide a static factory to convert between the string and Object.

Either way, clearly document your intentions.

*** Item 10: override toString: programmatic access                   :drill:
SCHEDULED: <2016-02-03 Wed>
:PROPERTIES:
:ID:       d67a1839-8010-4466-aeb1-5493e8c1d4b6
:DRILL_LAST_INTERVAL: 14.0631
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.8
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-20 Wed 11:09]
:END:

Should you provide programmatic access to all info in toString?

**** Answer

Yes.

*** Item 11: Override Clone Judiciously - Copy Constructors Bad       :drill: 
SCHEDULED: <2016-02-21 Sun>
:PROPERTIES:
:ID:       ebdb7479-7e0e-4ba0-a409-5d2978810b3f
:DRILL_LAST_INTERVAL: 23.4229
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 3.5
:DRILL_EASE: 2.22
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-01-29 Fri 15:41]
:END:

Should you use copy constructors?

**** Answer

Public copy constructors are bad because you get tight coupling on all the
fields.

You can't update the instance objects, e.g. Brain, without updating the copy
constructor.

#+BEGIN_SRC java
// Java is used in the rest of the article.
public class Person
{
	private Brain brain;
	private int age;
	public Person(Brain aBrain, int theAge)
	{
		brain = aBrain; 
		age = theAge;
	}
	public Person(Person another)
	{
		age = another.age;
		brain = new Brain(another.brain);
		// we assume we have a copy constructor for Brain
	}
	public String toString()
	{
		return "This is person with " + brain;
		// Not meant to sound rude as it reads!
	}
}

// Brain
public class Brain
{
	public Brain() {}
	public Brain(Brain another) {} // Assume proper copying of the Brain
}
#+END_SRC

If you extend a field's subclass, there's not an easy way to clone that subfield

http://www.agiledeveloper.com/articles/cloning072002.htm

*** Item 11: Override Clone Judiciously - interface                   :drill:
SCHEDULED: <2016-03-02 Wed>
:PROPERTIES:
:ID:       47e02ec5-8662-4247-92ce-040951f211d4
:DRILL_LAST_INTERVAL: 31.5536
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.75
:DRILL_EASE: 2.8
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-30 Sat 00:14]
:END:

What interface do you use to implement clone?

**** Answer

Cloneable

*** Item 11: Override Clone Judiciously - semantics                   :drill:
SCHEDULED: <2016-02-19 Fri>
:PROPERTIES:
:ID:       2d019765-a799-40ba-86bd-599258d1e641
:DRILL_LAST_INTERVAL: 21.2368
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.46
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-29 Fri 15:44]
:END:

What does cloneable do?

**** Answer

It determines the behavior of Object's protected clone implementation.  If a
class implements Cloneable, clone returns a field-by-field copy.  Otherwise, it
throws a CloneNotSupportedException.

*** Item 11: Override Clone Judiciously - contract                    :drill:
SCHEDULED: <2016-02-06 Sat>
:PROPERTIES:
:ID:       883c47bb-108e-4f5a-8e00-e5d8d70e0760
:DRILL_LAST_INTERVAL: 11.4112
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 6
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-26 Tue 18:19]
:END:

What is the general contract for clone?

**** Answer

x.clone() != x

x.clone().getClass() == x.getClass() // Not 100% required

x.clone().equals(x) // Not 100% required.

*** Item 11: Override Clone Judiciously - nonfinal class              :drill:
SCHEDULED: <2016-02-07 Sun>
:PROPERTIES:
:ID:       a8c9d998-919e-47f5-a521-bafe40dc0141
:DRILL_LAST_INTERVAL: 13.044
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 7
:DRILL_FAILURE_COUNT: 2
:DRILL_AVERAGE_QUALITY: 3.714
:DRILL_EASE: 2.66
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-25 Mon 20:42]
:END:

What type should you return in a clone of a nonfinal class?

**** Answer

The object obtained by invoking super.clone() because programmer's expect that
calling super.clone on a child will return an object of that type.  The only
way that a superclass can provide that functionality is to return an object
obtained by calling super.clone()

*** Item 11: Override Clone Judiciously - drawbacks                   :drill:
SCHEDULED: <2016-02-03 Wed>
:PROPERTIES:
:ID:       0c51568b-767d-4463-a4b7-b02b158d2786
:DRILL_LAST_INTERVAL: 9.9895
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 9
:DRILL_FAILURE_COUNT: 4
:DRILL_AVERAGE_QUALITY: 3.222
:DRILL_EASE: 2.56
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-01-24 Sun 15:26]
:END:

What are the drawbacks of clone?

**** Answer

+ extra-linguistic object creation
+ unenforceable adherence to thinly documented conventions
+ conflict with final fields since you can't modify final fields outside a
  constructor.

*** Item 11: Override Clone Judiciously - alternatives                :drill:
SCHEDULED: <2016-02-26 Fri>
:PROPERTIES:
:ID:       37901341-bdac-4c0d-b6e8-3d786082771e
:DRILL_LAST_INTERVAL: 26.528
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.25
:DRILL_EASE: 2.56
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-30 Sat 00:13]
:END:

What are the alternatives of clone?

**** Answer

+ copy constructor
+ static factory
 
*** Item 11: Override Clone Judiciously - Proper impl                 :drill:
SCHEDULED: <2016-02-05 Fri>
:PROPERTIES:
:ID:       1666a35c-8474-4c2d-8e4a-31e9338b8bd7
:DRILL_LAST_INTERVAL: 7.464
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 10
:DRILL_FAILURE_COUNT: 3
:DRILL_AVERAGE_QUALITY: 3.4
:DRILL_EASE: 2.42
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-29 Fri 15:42]
:END:

How should you implement clone if you must?

**** Answer

 http://www.agiledeveloper.com/articles/cloning072002.htm

+ Implement the clone method that calls a protected copy constructor
+ Use a protected copy constructor to initialize final fields, protected so you
  don't get tight dependencies.
+ clone the instance fields in the copy constructor.
+ Now you can extend the class and make it work with a new copy constructor.
 
#+BEGIN_SRC java
public class Person implements Cloneable
{
	private final Brain brain; // brain is final since I do not want 
				// any transplant on it once created!
	private int age;
	public Person(Brain aBrain, int theAge)
	{
		brain = aBrain; 
		age = theAge;
	}
 	protected Person(Person another)
	{
		Brain refBrain = null;
		try
		{
			refBrain = (Brain) another.brain.clone();
			// You can set the brain in the constructor
		}
		catch(CloneNotSupportedException e) {}
		brain = refBrain;
		age = another.age;
	}
 	public String toString()
	{
		return "This is person with " + brain;
		// Not meant to sound rude as it reads!
	}
 	public Object clone()
	{
		return new Person(this);
	}
 	โฆ
}
#+END_SRC

*** Item 12: Implement Comparable: Interface                          :drill:
SCHEDULED: <2016-02-08 Mon>
:PROPERTIES:
:ID:       7d645124-9390-464b-80c4-a6cb9abeedc0
:DRILL_LAST_INTERVAL: 14.5052
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.5
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-01-24 Sun 15:22]
:END:

How do you implement the Comparable interface?

**** Answer

#+BEGIN_SRC java
class MyClass implements Comparable<MyClass> {
    @Override
    public int compareTo(MyClass other) {
        return -1;
    }
}
#+END_SRC

*** Item 12: Implement Comparable: Contract                           :drill:
SCHEDULED: <2016-02-03 Wed>
:PROPERTIES:
:ID:       ebfcf743-d916-43ea-a93d-78f501f6b61f
:DRILL_LAST_INTERVAL: 9.4015
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.8
:DRILL_EASE: 2.6
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-25 Mon 20:41]
:END:

What is the general contract of Comparable?

**** Answer

- Reflexive: ~sgn(x.compareTo(y)) == -sgn(y.compareTo(x))~
- Transitive: ~(x.compareTo(y) > 0 && y.compareTo(z) > 0~ implies
  ~x.compareTo(z) > 0~
- Symmetry: ~x.compareTo(y) == 0~ implies that ~sgn(x.compareTo(z)) ==
  sgn(y.compareTo(z))~
- Strongly recommended that if ~x.compareTo(y) == 0~ then ~x.equals(y)~
 
*** Item 12: Implement Comparable: compareTo not consistent equals    :drill:
SCHEDULED: <2016-03-02 Wed>
:PROPERTIES:
:ID:       7f740588-9ca2-4c51-ac09-8a91d1c65e42
:DRILL_LAST_INTERVAL: 29.7596
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 4.2
:DRILL_EASE: 2.8
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-01 Mon 10:47]
:END:

What should you do if compareTo is not consistent with equals?  That is,

~x.compareTo(y) == 0 && !x.equals(y)~

**** Answer

Put the following in the documentation:

"Note: This class has a natural ordering that is inconsistent with equals."

*** Item 12: Implement Comparable: Extend Value class                 :drill:
SCHEDULED: <2016-02-06 Sat>
:PROPERTIES:
:ID:       a01ffdfe-96ea-41a4-948c-1f0527e090a7
:DRILL_LAST_INTERVAL: 11.8906
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 4.2
:DRILL_EASE: 2.8
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-25 Mon 20:44]
:END:

What is the problem with comparable and a extending a value class?

**** Answer

There is no way to extend an instantiable class with a new value component while
preserving the compareTo contract.

If you want to add a value component to a class that implements Comparable,
write an unrelated class containing an instance of the first class and provide a
view method that returns the instance.  Then, you are free to implement your own
~compareTo~.

Consider these two classes:

#+BEGIN_SRC java
class NamedThing {
    String name;
}

class Person extends NamedThing {
    Date dateOfBirth;
}
#+END_SRC

NamedThing should compare based on ~name~.  Person should compare on ~name~,
then ~dateOfBirth~.  But what if we compare NamedThing to Person.

http://stackoverflow.com/questions/13509286/why-cant-i-extend-an-instantiable-class-with-a-new-value-component-while-preser

*** Item 12: Implement Comparable: Impl                               :drill:
SCHEDULED: <2016-02-04 Thu>
:PROPERTIES:
:ID:       5a6fa657-f96d-4a9b-a46c-4c90da10704b
:DRILL_LAST_INTERVAL: 11.1904
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.8
:DRILL_EASE: 2.6
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-24 Sun 15:30]
:END:

What does a plain implementation for Comparable look like?

**** Answer

#+BEGIN_SRC java

public int compareTo(PhoneNumber pn) {
    // Compare area coes
    if (areaCode < pn.areaCode)
        return -1;
    if (areaCode > pn.areaCode)
        return 1;

    // Area codes are equal, compare prefixes
    if (prefix < pn.prefix)
        return -1;
    if (prefix > pn.prefix)
        return 1;

    // All fields equal
    return 0;
}
#+END_SRC

*** Item 12: Implement Comparable: Guava Impl                         :drill:
SCHEDULED: <2016-02-19 Fri>
:PROPERTIES:
:ID:       ecd99002-0134-43ff-b96d-f0b7a5efad52
:DRILL_LAST_INTERVAL: 22.0619
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 3.75
:DRILL_EASE: 2.36
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-01-28 Thu 00:52]
:END:

What does an implementation for Comparable look like with Guava?

**** Answer

#+BEGIN_SRC java

public int compareTo(PhoneNumber pn) {
    return ComparisonChain.start()
        .compare(areaCode, pn.areaCode)
        .compare(prefix, pn.prefix)
        .result();
}
#+END_SRC

** Classes and Interfaces
*** Item 13: Minimize accessibility                                   :drill:
SCHEDULED: <2016-02-24 Wed>
:PROPERTIES:
:ID:       4f004a9c-f4bc-41b0-9347-4630ecfc8b1b
:DRILL_LAST_INTERVAL: 26.2148
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.9
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-29 Fri 15:42]
:END:

What is Bloch's rule of thumb for class or member accessibility?

**** Answer

Make each class or member as inaccessible as possible.

*** Item 13: Minimize accessibility - levels                          :drill:
SCHEDULED: <2016-02-10 Wed>
:PROPERTIES:
:ID:       d8c3a0e4-da20-496d-8380-220ecb303820
:DRILL_LAST_INTERVAL: 18.1594
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.8
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-23 Sat 23:39]
:END:

What are the four access levels in Java?

**** Answer

1. private - only accessible from the top level class where it is declared.
2. package-private (default) - only accessible from any class in the package
   where it is declared.
3. protected - accessible from subclasses of the class where it is declared.
4. public - everywhere

*** Item 13: Minimize accessibility - public mutable                  :drill:
SCHEDULED: <2016-03-07 Mon>
:PROPERTIES:
:ID:       bb8391ef-dd19-4658-aeb1-034402409033
:DRILL_LAST_INTERVAL: 33.6817
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.75
:DRILL_EASE: 2.8
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-02 Tue 12:07]
:END:

Are public mutable fields thread-safe?

**** Answer

Nope.

*** Item 13: Minimize accessibility - arrays                          :drill:
SCHEDULED: <2016-02-16 Tue>
:PROPERTIES:
:ID:       878dbcd5-d7bb-45ad-bf26-6e7b933e997e
:DRILL_LAST_INTERVAL: 14.4013
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 8
:DRILL_FAILURE_COUNT: 2
:DRILL_AVERAGE_QUALITY: 3.876
:DRILL_EASE: 2.8
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-02 Tue 11:50]
:END:

What alternatives are there to a final array?

**** Answer

Collections.unmodifiableList - an unmodifiable view, the backing array can still change
Guava ImmutableList - actually immutable

*** Item 14: Public accessors - accessor vs public field              :drill:
SCHEDULED: <2016-02-04 Thu>
:PROPERTIES:
:ID:       f204e0bd-7b04-4cb1-bbb8-977d14b186e7
:DRILL_LAST_INTERVAL: 1.7849
:DRILL_REPEATS_SINCE_FAIL: 2
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.6
:DRILL_EASE: 2.42
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-02 Tue 12:06]
:END:

When should you use an accessor over a public field?

**** Answer

If a class is accessible outside of its package, provide accessor methods.

If a class is package-private or a private nested class, there is nothing
inherently wrong with exposing data fields.

*** Item 14: Public accessors - why accessors                         :drill:
SCHEDULED: <2016-02-05 Fri>
:PROPERTIES:
:ID:       2e1879b7-e276-452d-85ef-eee1c96aa7ab
:DRILL_LAST_INTERVAL: 11.3761
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 6
:DRILL_FAILURE_COUNT: 2
:DRILL_AVERAGE_QUALITY: 3.833
:DRILL_EASE: 2.8
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-25 Mon 20:43]
:END:

Why should you use accessors over fields?

**** Answer

Axe-field, CAP, handle wood - carbon, frozen, aux-power

Using fields does not offer the benefits of encapsulation.

+ You can't change the representation without changing the API.
+ You can't enforce invariants.
+ You can't take auxiallary action when a field is accessed.

*** Item 15: Minimize mutability                                      :drill:
SCHEDULED: <2016-02-11 Thu>
:PROPERTIES:
:ID:       853c0b48-cf7a-459b-90f7-a6305accb467
:DRILL_LAST_INTERVAL: 13.5545
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 6
:DRILL_FAILURE_COUNT: 2
:DRILL_AVERAGE_QUALITY: 3.5
:DRILL_EASE: 2.6
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-01-28 Thu 00:48]
:END:

How do you make a class immutable?

**** Answer

Han's Solo - Arizona, sealed, final sticker, private showing, exclusive access

Follow these five rules:

1. Don't provide any methods that modify the object's state.
2. Ensure the class can't be extended.
3. Make all fields final.
4. Make all fields private.
5. Ensure exclusive access to any mutable components.

*** Item 15: Minimize Mutability - benefits                           :drill:
SCHEDULED: <2016-02-15 Mon>
:PROPERTIES:
:ID:       360a3167-bbc5-44e3-85c0-fa2d58c859cb
:DRILL_LAST_INTERVAL: 18.3141
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 6
:DRILL_FAILURE_COUNT: 2
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.9
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-28 Thu 16:57]
:END:

What are the benefits of immutable classes?

**** Answer

Hans Solo - classrooms, intestines, blocks

+ Immutable objects are simple.
+ Immutable objects are inherently thread-safe.
+ Immutable objects can be shared freely.
+ You can share immutable object internals, e.g. BigInteger's backing array for
  negate.
+ Immutable objects make great building blocks.

*** Item 15: Minimize Mutability - drawbacks                          :drill:
SCHEDULED: <2016-02-13 Sat>
:PROPERTIES:
:ID:       09fcee96-404f-49fe-9311-1c1751869b6c
:DRILL_LAST_INTERVAL: 16.1438
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 6
:DRILL_FAILURE_COUNT: 2
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.9
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-28 Thu 00:53]
:END:

What are the drawbacks of immutable object?

**** Answer

Immutable objects require a separate object for each distinct value.

*** Item 15:  Minimize Mutability - mitigate performance problem      :drill:
SCHEDULED: <2016-02-14 Sun>
:PROPERTIES:
:ID:       20a96920-807f-498e-8f90-1102e2bf07df
:DRILL_LAST_INTERVAL: 13.5318
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 6
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 4.167
:DRILL_EASE: 2.8
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-31 Sun 10:20]
:END:

What are two approaches to making mutability performant in immutable classes?

**** Answer

1. Guess which multi-step operations will be common and provide primitives by a
   package-private companion class.
2. If you can't predict multi-step operations, provide a public companion class,
   e.g. String -> String Builder, BigInteger -> BitSet.

*** Item 15: Minimize Mutablitiy - make immutable class               :drill:
SCHEDULED: <2016-02-05 Fri>
:PROPERTIES:
:ID:       d3f102f4-533d-445d-87d2-14bd913fd8f0
:DRILL_LAST_INTERVAL: 10.9117
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.8
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-25 Mon 20:45]
:END:

How can you prevent a class from being subclassed?

**** Answer

+ Mark as final.
+ private constructor with static factories, allows the use of multiple
  package-private implementation classes.

*** Item 15: Minimize Mutability - when immutable                     :drill:
SCHEDULED: <2016-02-07 Sun>
:PROPERTIES:
:ID:       e04eac1c-5dbc-4956-860f-166911b27b69
:DRILL_LAST_INTERVAL: 13.4702
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.667
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-25 Mon 20:42]
:END:

When should classes be immutable?

**** Answer

All the time, unless there's a very good reason to make them mutable.

*** Item 15: Minimize Mutability - if can't immutable                 :drill:
SCHEDULED: <2016-02-06 Sat>
:PROPERTIES:
:ID:       3211f3ac-b981-41ce-9926-50086c9ab70a
:DRILL_LAST_INTERVAL: 12.0363
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.667
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-25 Mon 20:45]
:END:

If you absolutely must make a class mutable, how should you mitigate the risks
of mutability?

**** Answer

Limit mutability as much as possible.
Mark every field as final unless there is a compelling reason not to.

*** Item 16: Favor Composition - why inheritance bad                  :drill:
SCHEDULED: <2016-02-20 Sat>
:PROPERTIES:
:ID:       4b082ecd-3192-4a9d-8be4-48f55f36016e
:DRILL_LAST_INTERVAL: 19.5984
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 7
:DRILL_FAILURE_COUNT: 2
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.9
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-31 Sun 10:20]
:END:

Why is inheritance bad?

**** Answer

Unlike method invocation, inheritance violates encapsulation.

If you try to implement InstrumentedHashSet by extending HashSet, you must rely
on the implementation of HashSet to Instrument correctly.

Additionally, if the super-class gets new methods, they can break your class.

*** Item 16: Favor Composition - alternative inheritance              :drill:
SCHEDULED: <2016-02-06 Sat>
:PROPERTIES:
:ID:       d42ea0ae-570b-4449-9116-247a2d5c2acb
:DRILL_LAST_INTERVAL: 11.9007
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.8
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-25 Mon 20:44]
:END:

What can you use instead of inheritance?

**** Answer

Create a field that has an instance of the existing class.

This is composition because the existing class becomes a component of the new
class.

*** Item 16: Favor Composition - drawbacks                            :drill:
SCHEDULED: <2016-02-06 Sat>
:PROPERTIES:
:ID:       c811f48e-2ce7-462e-b064-6182dbc51b56
:DRILL_LAST_INTERVAL: 4.3482
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 8
:DRILL_FAILURE_COUNT: 2
:DRILL_AVERAGE_QUALITY: 3.875
:DRILL_EASE: 2.76
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-02 Tue 11:50]
:END:

What are the drawbacks of composition, specifically of forwarding classes?

**** Answer

Wrapper classes are not suited for use in callback frameworks.
Annoying and tedious to write.

http://programmers.stackexchange.com/questions/117628/why-are-wrapper-classes-not-suited-for-use-in-callback-frameworks

*** Item 16: Favor Composition - when to use inheritance              :drill:
SCHEDULED: <2016-02-09 Tue>
:PROPERTIES:
:ID:       71d5fc01-01f6-48f7-9ffa-d071e95bd4ae
:DRILL_LAST_INTERVAL: 12.2124
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-28 Thu 16:55]
:END:

When is inheritance appropriate?

**** Answer

In circumstances where the subclass really is a subtype of the superclass.

Class B should only extend class A only if B "is-a" A.

If you are tempted to have class B extend a class A, ask yourself: Is every B
really an A?  If you cannot truthfully answer yes, B should not extend A.

You must also be comfortable in adopting the flaws of A.

*** Item 17: Design for Inheritance -  Document                       :drill:
SCHEDULED: <2016-02-14 Sun>
:PROPERTIES:
:ID:       ed2bf3be-4fad-4d11-8d0a-2fb0043fe710
:DRILL_LAST_INTERVAL: 13.7627
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 6
:DRILL_FAILURE_COUNT: 2
:DRILL_AVERAGE_QUALITY: 3.667
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-01-31 Sun 02:48]
:END:

What aspect of an inheritable class must you document?

**** Answer

You must document the self-use of overridable methods.  For each public or
protected method or constructor, the documentation must indicate which
overridable methods the method or constructor invokes, in what sequence and how
the results of each invocation affect subsequent processing.

Overridable means nonfinal and either public or protected.

*** Item 17: Design for Inheritance - inheritance doc convention      :drill:
SCHEDULED: <2016-02-15 Mon>
:PROPERTIES:
:ID:       64ec1959-6c4b-4a06-9d0f-5cb1f0daa436
:DRILL_LAST_INTERVAL: 18.4914
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.8
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-28 Thu 16:54]
:END:

What convention do you use to signal that a method invokes overridable methods?

**** Answer

At the end of the documentation comment, you begin a paragraph with the phrase,
"This implementation."


See AbstractCollection#remove for an example.

https://docs.oracle.com/javase/8/docs/api/index.html?java/util/AbstractCollection.html

*** Item 17: Design for Inheritance - inheritance efficient           :drill:
SCHEDULED: <2016-02-06 Sat>
:PROPERTIES:
:ID:       34f730e7-9562-41f4-902d-0ea490046964
:DRILL_LAST_INTERVAL: 9.1881
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 6
:DRILL_FAILURE_COUNT: 2
:DRILL_AVERAGE_QUALITY: 3.667
:DRILL_EASE: 2.66
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-28 Thu 00:45]
:END:

How do you allow efficient access to the internal workings of a subclass
designed for inheritance?

**** Answer

Judiciously chosen protected methods, to provide hooks into the internal
workings of the class.

Like AbstractList#removeRange

*** Item 17: Design for Inheritance - test for inheritance design     :drill:
SCHEDULED: <2016-02-10 Wed>
:PROPERTIES:
:ID:       125bac74-5920-4f7a-a8c5-0cb26f5bf871
:DRILL_LAST_INTERVAL: 12.9176
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.667
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-01-28 Thu 00:51]
:END:

What is the only way to test if a class is designed for inheritance?

**** Answer

Subclass it at least three times, and have someone other than the author
subclass it at least once.

*** Item 17: Design for Inheritance - constructors and overridables   :drill:
SCHEDULED: <2016-02-09 Tue>
:PROPERTIES:
:ID:       4d850c76-da4c-4e3c-bf02-65d7ba11bb76
:DRILL_LAST_INTERVAL: 11.7185
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.8
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-28 Thu 00:49]
:END:

Why can't you use overridable methods in a constructor?

**** Answer

#+BEGIN_QUOTE
Because the superclass constructor runs before the subclass constructor, so the
overriding methods in the subclass will get invoked before the subclass
constructor has run.  If the overriding method depends on any initialization
performed by the subclass constructor, the method will not behave as expected.
#+END_QUOTE

#+BEGIN_SRC java

public class ConstructorCallsOverride {
    public static void main(String[] args) {
        abstract class Base {
            Base() { overrideMe(); }
            abstract void overrideMe(); 
        }
        class Child extends Base {
            final int x;
            Child(int x) { this.x = x; }
            @Override void overrideMe() {
                System.out.println(x);
            }
        }
        new Child(42); // prints "0"
    }
}
#+END_SRC

Here, when Base constructor calls overrideMe, Child has not finished
initializing the final int x, and the method gets the wrong value. This will
almost certainly lead to bugs and errors.

http://stackoverflow.com/questions/3404301/whats-wrong-with-overridable-method-calls-in-constructors

*** Item 17: Design for Inheritance - cloneable and serializable      :drill:
SCHEDULED: <2016-02-13 Sat>
:PROPERTIES:
:ID:       ace68707-4ebe-4cb5-806f-e245a2aac72a
:DRILL_LAST_INTERVAL: 14.5005
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.8
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-29 Fri 15:45]
:END:

Should you implement cloneable and serializable for a class designed for
inheritance?

**** Answer

No, because clone and readObject function similar to constructors, so the same
restrictions apply.

Neither clone nor readObject may invoke an overridable method, directly or
indirectly.

*** Item 17: Design for Inheritance -                                 :drill:
SCHEDULED: <2016-02-11 Thu>
:PROPERTIES:
:ID:       beee49af-05ab-48b9-858d-60cc43353500
:DRILL_LAST_INTERVAL: 14.1548
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.8
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-28 Thu 00:45]
:END:

What is the best solution to prevent inheritance problems in normal concrete
classes?

**** Answer

Prohibit subclassing in classes that are not designed and documented to be
safely subclasses.

*** Item 17: Design for Inheritance - concrete with no std interface  :drill:
SCHEDULED: <2016-02-06 Sat>
:PROPERTIES:
:ID:       f7f17099-a359-4b7e-97b5-dfbc52c0eb8e
:DRILL_LAST_INTERVAL: 11.2643
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.8
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-26 Tue 18:19]
:END:

If you must allow inheritance from a concrete class that doesn't implement a
standard interface, how can you mitigate the risks of improper inheritance?

**** Answer

Ensure the class never invokes any of its overridable methods and document this
fact.  Then, overriding a method will never affect the behavior of any other
method.

You can do this by moving the body of each overridable method into a private
helper method and then call the helper method from the overridable method.
Then, replace each self-use of an overridable method with its private helper.

*** Item 18: Prefer Interfaces - Why                                  :drill:
SCHEDULED: <2016-02-14 Sun>
:PROPERTIES:
:ID:       28beb321-3739-4e82-aa2c-45c81c33e107
:DRILL_LAST_INTERVAL: 12.052
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 9
:DRILL_FAILURE_COUNT: 3
:DRILL_AVERAGE_QUALITY: 3.556
:DRILL_EASE: 2.66
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-02 Tue 11:56]
:END:

Why should you prefer interfaces to abstract classes?

**** Answer

Arya Stark, faces, blender, wrap

1. Existing classes can be easily retrofitted to implement a new interface.
2. Interfaces are ideal for defining mixins.
3. Interfaces allow the construction of non-hierarchical type frameworks.
4. Interfaces enable safe, powerful functionality enhancements through
   composition, by the wrapper idiom.

*** Item 18: Prefer Interfaces -                                      :drill:
SCHEDULED: <2016-02-11 Thu>
:PROPERTIES:
:ID:       fcda47f0-d9c6-4172-be27-a0423b8e6820
:DRILL_LAST_INTERVAL: 13.2731
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.667
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-29 Fri 15:44]
:END:

How do you combine the virtues of interfaces and abstract classes?

**** Answer

Provide an abstract, skeletal implementation class to go with each non-trivial
interface that you export.

The naming convention is AbstractINTERFACE, where INTERFACE is the interface you
implement.

*** Item 18: Prefer Interfaces - simulated multiple inheritance       :drill:
SCHEDULED: <2016-02-07 Sun>
:PROPERTIES:
:ID:       ead7a395-bcd7-4fd9-9917-50c67c7954cb
:DRILL_LAST_INTERVAL: 10.4565
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.8
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-28 Thu 00:49]
:END:

What is simulated multiple inheritance?

**** Answer

You use composition to included a skeletal implementation of an interface and
then forward the interfaces' method calls to the wrapped skeletal interface.

*** Item 18: Prefer Interfaces - Advantages of abstract classes       :drill:
SCHEDULED: <2016-02-10 Wed>
:PROPERTIES:
:ID:       571f408b-2c08-4b4f-8b62-397feb475239
:DRILL_LAST_INTERVAL: 13.4608
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.8
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-28 Thu 16:56]
:END:

What are the advantages of abstract classes?

**** Answer

It is far easier to evolve an abstract class than an interface.

In Java 8, the story is slightly better for interfaces since you can provide
default methods.

*** Item 19: Interface only for Types - Why                           :drill:
SCHEDULED: <2016-02-09 Tue>
:PROPERTIES:
:ID:       dc434c1d-7b41-4c98-8f39-f6556da48256
:DRILL_LAST_INTERVAL: 12.061
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 4.25
:DRILL_EASE: 2.8
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-28 Thu 00:44]
:END:

Why should you use interfaces only for types?

**** Answer

Because the constant interface is a poor use of interfaces.  The constants are
an implementation detail.

*** Item 19: Interface only for Types - Alternative for constants     :drill:
SCHEDULED: <2016-02-14 Sun>
:PROPERTIES:
:ID:       8803fbf7-ca24-4b9d-b9d0-5708c24e772a
:DRILL_LAST_INTERVAL: 14.4036
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-01-31 Sun 10:22]
:END:

How should you export constants?

**** Answer

If the constants are best viewed as members of an enumerated type, export with
an enum.

Otherwise, export with a non-instantiable utility class with public, static,
final modifiers.

Then you can import with static import.

*** Item 20: Prefer class hierarchies over tags - what                :drill:
SCHEDULED: <2016-02-16 Tue>
:PROPERTIES:
:ID:       b284739b-61be-453e-9887-ce4304181027
:DRILL_LAST_INTERVAL: 15.7647
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.8
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-31 Sun 10:27]
:END:

What is a tagged class?

**** Answer

It's a class that has a /tag/ field to indicate which flavor of the class we're
using.  It's used to simulate class hierarchies.

#+BEGIN_SRC java
class Figure {

    enum Shape { RECTANGLE, CIRCLE };

    // Tag field
    final Shape shape;

    // Fields for RECTANGLE
    double length;
    double width;

    // Fields for CIRCLE
    double radius;

    // Constructor for circle
    Figure(double radius) {
        this.shape = Shape.CIRCLE;
        this.radius = radius;
    }

    // Constructor for rectangle
    Figure(double width, double length) {
        this.shape = Shape.RECTANGLE
        this.width = width;
        this.length = length;
    }

    double area() {
        switch (shape) {
        case RECTANGLE:
            return length * width;
        case CIRCLE:
            return Math.PI * (radius * radius);
        default:
            throw new AssertationError();
        }
    }
}
#+END_SRC

*** Item 20: Prefer class hierarchies over tags - why bad             :drill:
SCHEDULED: <2016-02-03 Wed>
:PROPERTIES:
:ID:       26e60c15-d309-4102-b78b-d63528fa4614
:DRILL_LAST_INTERVAL: 1.8821
:DRILL_REPEATS_SINCE_FAIL: 2
:DRILL_TOTAL_REPEATS: 7
:DRILL_FAILURE_COUNT: 3
:DRILL_AVERAGE_QUALITY: 3.429
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-01 Mon 10:53]
:END:

Why are tagged classes bad?

**** Answer

Schwarzenegger Tag preschool class, read constitution, ram, final countdown,
stage extends.

+ Cluttered with boiler plate, including enums, tag fields, and switch statements.
+ Readability is bad because multiple implementations are jumbled together in a
  single class.
+ Memory footprint is increased because every instance has all the fields of
  every tag.
+ Fields can't be final unless each constructor initializes all the irrelevant
  fields.
+ You can't add a new flavor of a tagged class unless you can modify the source
  file.  This violates the open-closed principle.

Tagged classes are verbose, error-prone and inefficient.

A tagged class is a pallid imitation of a class hierarchy. 

*** Item 20: Prefer class hierarchies over tags - alternative         :drill:
SCHEDULED: <2016-02-15 Mon>
:PROPERTIES:
:ID:       892ac2e3-b1ec-4764-8a6d-7b5eaed515ad
:DRILL_LAST_INTERVAL: 15.3348
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 4.25
:DRILL_EASE: 2.8
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-31 Sun 10:23]
:END:

What do you replace a tagged class with?

**** Answer

A class hierarchy.

*** Item 20: Prefer class hierarchies over tags - Alternative impl    :drill:
SCHEDULED: <2016-02-16 Tue>
:PROPERTIES:
:ID:       37854105-68d9-4e5f-93ef-586127dea641
:DRILL_LAST_INTERVAL: 15.0267
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.8
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-01 Mon 10:48]
:END:

How do you transform a tagged class to a class hierarchy?

**** Answer

1. Define an abstract class containing an abstract method for each method in the
   tagged class that depends on the tag value.
2. Define a concrete subclass of the root class for each flavor of the original
   tagged class.

*** Item 21: Use function objects - Java function pointer             :drill:
SCHEDULED: <2016-02-17 Wed>
:PROPERTIES:
:ID:       7748115f-87d0-43a5-aa77-e504115ff827
:DRILL_LAST_INTERVAL: 15.2297
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.8
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-02 Tue 11:49]
:END:

How do you represent a function pointer in Java?

**** Answer

With an object whose method does stuff to other objects.  The instance of a
class with one method functions essentially as a pointer to the method, thus
mimicking a function pointer.

This approach is typically used for the strategy pattern.

*** Item 21: Use function objects - optimization                      :drill:
SCHEDULED: <2016-02-17 Wed>
:PROPERTIES:
:ID:       ed8a6576-6a80-49e6-bebd-0c66446ef8e8
:DRILL_LAST_INTERVAL: 15.3408
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.8
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-02 Tue 11:59]
:END:

Should you create a function object every time you want to use the strategy
pattern?

**** Answer

No, silly.  You generally want to make a singleton and use that to avoid
unnecessary object creation.

*** Item 21: Use function objects - anonymous class optimization      :drill:
SCHEDULED: <2016-02-16 Tue>
:PROPERTIES:
:ID:       0c71b0b1-6acc-43d3-8a6d-a49ec780d1f2
:DRILL_LAST_INTERVAL: 14.3389
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.667
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-02-02 Tue 11:54]
:END:

If using anonymous classes for function objects, how can you optimize repeated
use?

**** Answer

+ Define the function object as a private static class.
+ Instantiate the function object as a singleton, so a public field or static
  factory.
+ Use the strategy interface to define the singleton.
 
#+BEGIN_SRC java
class Host {
    private static class StrLenCmp implements Comparator<String>, Serializable {
        public int compare(String s1, String s2) {
            return s1.length() - s2.length()
    }

    public static final Comparator<String> STRING_LENGTH_COMPARATOR =
        new StrLenCmp();
    }
}
#+END_SRC

*** Item 22: Favor static member classes - nested class               :drill:
SCHEDULED: <2016-02-15 Mon>
:PROPERTIES:
:ID:       5e8e5e8f-95c6-4d75-9e81-1ce813265122
:DRILL_LAST_INTERVAL: 12.7764
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.8
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-02 Tue 11:49]
:END:

What is a nested class?

**** Answer

Any class defined within another class.

*** Item 22: Favor static member classes -                            :drill:
SCHEDULED: <2016-02-16 Tue>
:PROPERTIES:
:ID:       f5bd4562-1fbe-47f7-ace8-31a6c3eeedf6
:DRILL_LAST_INTERVAL: 13.6718
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.667
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-02 Tue 11:48]
:END:

What's the purpose of a nested class?

**** Answer

It only exists to serve the enclosing class.  If the nested class were useful in
some other context, then it should be top level class.

*** Item 22: Favor static member classes - four kinds of nested       :drill:
SCHEDULED: <2016-02-18 Thu>
:PROPERTIES:
:ID:       6da50916-c4a8-450d-8713-47e5b42389c1
:DRILL_LAST_INTERVAL: 15.9119
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.333
:DRILL_EASE: 2.6
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-02-02 Tue 11:55]
:END:

What are the four types of nested classes?

**** Answer

1. Static member classes

Inner Classes
2. Non-static member classes
3. Anonymous classes
4. Local classes

*** Item 22: Favor static member classes - static member class uses   :drill:
SCHEDULED: <2016-02-14 Sun>
:PROPERTIES:
:ID:       584cc744-953e-4ca5-b66b-b03d3b65e309
:DRILL_LAST_INTERVAL: 12.9631
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.667
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-01 Mon 10:46]
:END:

What are the use cases for a static member class?

**** Answer

As a public helper class like Calculator.Operations enum with PLUS, MINUS, etc.

*** Item 22: Favor static member classes - qualified this             :drill:
SCHEDULED: <2016-02-06 Sat>
:PROPERTIES:
:ID:       101c977a-8eaf-4db9-a373-7c071745cd6b
:DRILL_LAST_INTERVAL: 8.2983
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.333
:DRILL_EASE: 2.56
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-29 Fri 15:44]
:END:

How do you reference an enclosing class instance fields or methods from an inner class?

**** Answer

You can use a simple name, or if the name is shadowed, you use the qualified
this construct:

Without the qualifier, x() would recurse. With the qualifier, the enclosing
instance's x() method is invoked instead.

#+BEGIN_SRC java
class Envelope {
  void x() {
    System.out.println("Hello");
  }
  class Enclosure {
    void x() {
      Envelope.this.x(); /* Qualified*/
    }
  }
}
#+END_SRC

http://stackoverflow.com/questions/11276994/what-does-qualified-this-construct-mean-in-java

*** Item 22: Favor static member classes - when use static            :drill:
SCHEDULED: <2016-02-15 Mon>
:PROPERTIES:
:ID:       66bebad5-d97b-425f-b08e-b8b68dbd9a59
:DRILL_LAST_INTERVAL: 13.3761
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.8
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-02 Tue 11:58]
:END:

When should you declare a nested class as static?

**** Answer

Always if the class does not require access to the enclosing instance.

It saves memory since each enclosing class doesn't also have a nested class
instantiation.

*** Item 22: Favor static member classes - anonymous class            :drill:
SCHEDULED: <2016-02-04 Thu>
:PROPERTIES:
:ID:       d4451b59-5726-4757-97c8-90d56bf8c030
:DRILL_LAST_INTERVAL: 1.7195
:DRILL_REPEATS_SINCE_FAIL: 2
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 4.25
:DRILL_EASE: 2.8
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-02 Tue 12:07]
:END:

Where can you declare an anonymous class?

**** Answer

Anywhere an expression is legal.

*** Item 22: Favor static member classes - anon class limitations     :drill:
SCHEDULED: <2016-02-06 Sat>
:PROPERTIES:
:ID:       0e5bb2ae-1957-4795-b73f-63f46cf86e25
:DRILL_LAST_INTERVAL: 4.3245
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 9
:DRILL_FAILURE_COUNT: 4
:DRILL_AVERAGE_QUALITY: 3.222
:DRILL_EASE: 2.52
:DRILL_LAST_QUALITY: 3
:DRILL_LAST_REVIEWED: [2016-02-02 Tue 11:55]
:END:

What are the limitations on an anonymous class?

**** Answer

Anon jail, tent, multiple faces, 1/2 army

+ You can't perform instanceof tests
+ You can't implement multiple interfaces, or extend a class and implement an
  interfaces.
+ Clients of an anonymous class can't invoke any members except those it
  inherits from the super-type.

*** Item 22: Favor static member classes - anonymous class uses       :drill:
SCHEDULED: <2016-02-12 Fri>
:PROPERTIES:
:ID:       5dcfd714-1960-47ee-865d-a1c9f0b29d62
:DRILL_LAST_INTERVAL: 11.3038
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 4.25
:DRILL_EASE: 2.8
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-01 Mon 10:47]
:END:

What are common uses for anonymous classes?

**** Answer

+ Function objects to implement the strategy pattern.
 
+ Process objects, e.g. Runnable
  #+BEGIN_SRC java
  Runnable task2 = () -> { System.out.println("Task 2 is running"); };
  Thread thread2 = new Thread(task2);
  thread2.start();
  #+END_SRC

+ Use in a static factory.
  #+BEGIN_SRC java
  public static <T> Callable<T> asCallable(final Report<T> report) {
      return new Callable<T> {
          @Override
          public T call() { return report.generate(); }
      };
  }
  #+END_SRC

*** Item 22: Favor static member classes - local classes declared     :drill:
SCHEDULED: <2016-02-06 Sat>
:PROPERTIES:
:ID:       b6f4287d-2908-4dd6-b0a6-9893621012bf
:DRILL_LAST_INTERVAL: 6.2907
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.333
:DRILL_EASE: 2.56
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-31 Sun 10:22]
:END:

Where can local classes be declared?

**** Answer

Anywhere a local variable can be declared.

** Generics
*** Item 23: Don't use raw types - type 1                             :drill:
SCHEDULED: <2016-02-04 Thu>
:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       d95b8741-0cf8-44ec-aa34-873d076516c5
:DRILL_LAST_INTERVAL: 4.2884
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 2
:DRILL_AVERAGE_QUALITY: 3.2
:DRILL_EASE: 2.46
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-31 Sun 10:28]
:END:
 
The official term for a [List<String>] is a [parameterized type].

*** Item 23: Don't use raw types - type 2                             :drill:
SCHEDULED: <2016-02-03 Wed>
:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       3c26f404-53a2-4d3d-a605-ec4835909aac
:DRILL_LAST_INTERVAL: 3.9589
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 2
:DRILL_AVERAGE_QUALITY: 3.4
:DRILL_EASE: 2.56
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-30 Sat 00:13]
:END:
 
The official term for a [String] is a [actual type parameter].

*** Item 23: Don't use raw types - type 2                             :drill:
SCHEDULED: <2016-02-20 Sat>
:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       41a638be-814f-4d91-9666-d0f11d474e84
:DRILL_LAST_INTERVAL: 18.1875
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 4.25
:DRILL_EASE: 2.8
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-02 Tue 11:59]
:END:
 
The official term for a [List<E>] is a [generic type].

*** Item 23: Don't use raw types - type 3                             :drill:
SCHEDULED: <2016-02-04 Thu>
:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       05e30c71-50be-4f9d-a6c6-e76ef8547cdc
:DRILL_LAST_INTERVAL: 4.5387
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 2
:DRILL_AVERAGE_QUALITY: 3.4
:DRILL_EASE: 2.56
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-30 Sat 00:13]
:END:
 
The official term for a [E] is a [formal type parameter].

*** Item 23: Don't use raw types - type 4                             :drill:
SCHEDULED: <2016-02-13 Sat>
:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       46916859-9a39-4f4a-8f7c-067de32a8371
:DRILL_LAST_INTERVAL: 12.3042
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.333
:DRILL_EASE: 2.6
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-01 Mon 10:40]
:END:
 
The official term for a [List<?>] is an [unbounded wildcard type].

*** Item 23: Don't use raw types - type 5                             :drill:
SCHEDULED: <2016-02-11 Thu>
:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       64a611da-611d-4550-8298-603eca0032f1
:DRILL_LAST_INTERVAL: 9.8062
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.333
:DRILL_EASE: 2.6
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-01 Mon 10:45]
:END:
 
The official term for a [List] (a generic class with no type parameters) is a
[raw type].

*** Item 23: Don't use raw types - type 6                             :drill:
SCHEDULED: <2016-02-11 Thu>
:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       cadef5d7-3f75-4f12-9619-b93803fd8ed3
:DRILL_LAST_INTERVAL: 10.4915
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.667
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-01 Mon 10:48]
:END:
 
The official term for a [<E extends Number>] is a [bounded type parameter].

*** Item 23: Don't use raw types - type 7                             :drill:
SCHEDULED: <2016-02-13 Sat>
:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       45d1515b-5129-4db9-8d04-95e161770294
:DRILL_LAST_INTERVAL: 11.5843
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.46
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-01 Mon 10:45]
:END:
 
The official term for a [<T extends Comparable<? super T>>] is a [recursive type bound].

*** Item 23: Don't use raw types - type 8                             :drill:
SCHEDULED: <2016-02-03 Wed>
:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       c7999a55-19b7-4c7c-aa8c-c3b964008a2e
:DRILL_LAST_INTERVAL: 4.454
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.5
:DRILL_EASE: 2.46
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-30 Sat 00:13]
:END:
 
The official term for a [List<? extends Number>] is a [bounded wildcard type].

*** Item 23: Don't use raw types - type 9                             :drill:
SCHEDULED: <2016-02-03 Wed>
:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       86002f40-2980-4f07-9ec1-85fb36a0e303
:DRILL_LAST_INTERVAL: 5.7407
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 2
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-28 Thu 00:50]
:END:
 
The official term for a [~static <E> List<E> asList(E[] a)~] is a [generic method].

*** Item 23: Don't use raw types - type 10                            :drill:
SCHEDULED: <2016-02-03 Wed>
:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       4464817c-b1ef-47c9-b057-25264f6b819d
:DRILL_LAST_INTERVAL: 1.6606
:DRILL_REPEATS_SINCE_FAIL: 2
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-01 Mon 10:53]
:END:
 
The official term for a [String.class] is a [type token].

*** Item 23: Don't use raw types - why                                :drill:
SCHEDULED: <2016-02-17 Wed>
:PROPERTIES:
:ID:       9c35ca8e-b578-4574-97ca-a0f3ba27678b
:DRILL_LAST_INTERVAL: 15.0218
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.667
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-02 Tue 11:49]
:END:

Why shouldn't you use raw types?

**** Answer

Raw types were left in Java for /migration compatibility/, so generics wouldn't
invalidate two decades of Java.

Raw types work with Object, so there's no type safety.  You must do all the
casts just like the pre-generic era.

With generics, the compiler will ensure type safety and insert all the correct
casts for you.

*** Item 23: Don't use raw types - raw type alternative               :drill:
SCHEDULED: <2016-02-11 Thu>
:PROPERTIES:
:ID:       71b09f09-e8b1-4bdc-bdc0-8a95609d9608
:DRILL_LAST_INTERVAL: 10.386
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.333
:DRILL_EASE: 2.6
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-01 Mon 10:47]
:END:

What type should you use for generics if the element type is unknown and doesn't
matter?

For example, how would you check two sets to see if they had any objects in
common?

**** Answer

Use the unbounded wildcard type.

#+BEGIN_SRC java
static int numElementsInCommon(Set<?> s1, Set<?> s2) {
    int result = 0;
    for (Object o1: s1) {
        if (s2.contains(o1)) {
            result++;
        }
    }
    return result;
}
#+END_SRC

*** Item 23: Don't use raw types - what's the use of <?>              :drill:
SCHEDULED: <2016-02-14 Sun>
:PROPERTIES:
:ID:       8b2ad061-48ba-4383-b20d-edefaff2ebcb
:DRILL_LAST_INTERVAL: 12.1133
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.667
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-02 Tue 11:49]
:END:

What's the point of unbounded wildcard types?

**** Answer

A unbounded wildcard type is useful when the method doesn't care about the
actual type.

#+BEGIN_SRC java
public void printStuff(Iterable<?> stuff) {
  for (Object item : stuff) {
    System.out.println(item);
  }
}
#+END_SRC

It's better than a raw type because it preserves the generic invariant, namely
you can't add any element to the collection because no object matches <?> except
for null.  So this would fail:

#+BEGIN_SRC java
Collection<?> c = new ArrayList<String>();
c.add("foo");
#+END_SRC

With a raw type, you could add any Object to the collection.

#+BEGIN_SRC java
Collection c = new ArrayList<String>();
c.add("foo");
c.add(new Integer(300));
c.add(new Object());
#+END_SRC

http://stackoverflow.com/questions/7671072/what-is-the-use-and-point-of-unbound-wildcards-generics-in-java

*** Item 23: Don't use raw types - instanceof                         :drill:
SCHEDULED: <2016-02-16 Tue>
:PROPERTIES:
:ID:       1694349f-062a-4bcc-a339-57647dcf180c
:DRILL_LAST_INTERVAL: 14.1452
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.8
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-02 Tue 11:59]
:END:

How do you do an instanceof check for a parameterized type?

**** Answer

Use an unbounded wildcard.
#+BEGIN_SRC java
value instanceof List<?>
#+END_SRC

Use a raw type - Josh Bloch says it's okay
#+BEGIN_SRC java
value instanceof List
#+END_SRC

*** Item 23: Don't use raw types - raw type use cases                 :drill:
SCHEDULED: <2016-02-04 Thu>
:PROPERTIES:
:ID:       a1a64e62-7320-4e11-823:f-37804d4ef489
:DRILL_LAST_INTERVAL: 1.6037
:DRILL_REPEATS_SINCE_FAIL: 2
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 2
:DRILL_AVERAGE_QUALITY: 3.6
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-02 Tue 12:06]
:END:

What are the acceptable uses for raw types?

**** Answer

1. Class literals because Java spec doesn't permit the use of parameterized
   types.  But Arrays and primitive types are okay
 
   List.class - legal
   String[].class -  legal 
   int.class - legal

   List<String>.class - illegal
   List<?>.class - illegal

2. Raw types are okay for instanceof checks, though unbounded wildcards also
   work.

*** Item 24: Eliminate unchecked warnings - how to suppress           :drill:
SCHEDULED: <2016-02-03 Wed>
:PROPERTIES:
:ID:       25630e2b-115d-497c-8f60-d0a85c734651
:DRILL_LAST_INTERVAL: 4.4223
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.5
:DRILL_EASE: 2.46
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-01-30 Sat 00:13]
:END:

How do you suppress an unchecked warnings?

**** Answer

~@SuppressWarnings("unchecked")~

*** Item 24: Eliminate unchecked warnings - include with suppressed   :drill:
SCHEDULED: <2016-02-15 Mon>
:PROPERTIES:
:ID:       cb25be5d-ee37-416a-be3a-457355ea2aea
:DRILL_LAST_INTERVAL: 12.7692
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.8
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-02 Tue 11:59]
:END:

What else should you do when you suppress a warning?

**** Answer

Add a comment stating why it's safe to use.

*** Item 24: Eliminate unchecked warnings - when to suppress          :drill:
SCHEDULED: <2016-02-11 Thu>
:PROPERTIES:
:ID:       976f515c-3639-4b41-8bb1-885c376fa091
:DRILL_LAST_INTERVAL: 9.5867
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.46
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-01 Mon 10:46]
:END:

When should you supress unchecked warnings?

**** Answer

Only when you can prove that the code that provoked the warning is typesafe.

*** Item 25: Prefer Lists to Arrays - array and generic diffs         :drill:
SCHEDULED: <2016-02-05 Fri>
:PROPERTIES:
:ID:       2027964e-d3d8-497b-93b8-8c562b1b6550
:DRILL_LAST_INTERVAL: 4.7224
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 2
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.5
:DRILL_EASE: 2.6
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-01-31 Sun 10:22]
:END:

What are the differences between arrays and generics?

**** Answer

Arrays are covariant and reified.  Generics are invariant and erased.

Arrays have run-time safety but not compile time safety.  Generics have compile
time safety but not run-time safety.

*** Item 25: Prefer Lists to Arrays - reified definition              :drill:
SCHEDULED: <2016-02-07 Sun>
:PROPERTIES:
:ID:       ba413ffd-0b03-49f9-8a3e-fecb51756108
:DRILL_LAST_INTERVAL: 6.808
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 2
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-31 Sun 10:27]
:END:

What does reified mean in a Java context?

**** Answer

You have type information available at runtime.

*** Item 25: Prefer Lists to Arrays - reifiable types                 :drill:
SCHEDULED: <2016-02-04 Thu>
:PROPERTIES:
:ID:       b63b890c-7dff-44e7-90a5-84297cd83f12
:DRILL_LAST_INTERVAL: 1.8804
:DRILL_REPEATS_SINCE_FAIL: 2
:DRILL_TOTAL_REPEATS: 6
:DRILL_FAILURE_COUNT: 3
:DRILL_AVERAGE_QUALITY: 3.333
:DRILL_EASE: 2.8
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-02 Tue 12:07]
:END:

What are the reifiable types in Java?

**** Answer

King Tyrion - dwarfs, jump-rope string, Question marks, raining raw
hamburgers, roller-coaster

1. Primitive types, e.g. ~int~
2. Non-parameterized class or interface, e.g. ~Number~, ~String~
3. A parameterized type in which all type variables are unbounded wildcards,
   e.g. ~List<?>~, ~Map<?, ?>~
4. A raw type, e.g. ~List~, ~ArrayList~
5. An array whose component type is reifiable, e.g. ~int[]~, ~List<?>[]~,
   ~List[]~.

*** Item 25: Prefer Lists to Arrays - non-reifiable types             :drill:
SCHEDULED: <2016-02-04 Thu>
:PROPERTIES:
:ID:       e3e1158d-d2f7-4011-baf4-469eec5ee54f
:DRILL_LAST_INTERVAL: 1.7241
:DRILL_REPEATS_SINCE_FAIL: 2
:DRILL_TOTAL_REPEATS: 7
:DRILL_FAILURE_COUNT: 3
:DRILL_AVERAGE_QUALITY: 3.286
:DRILL_EASE: 2.56
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-02 Tue 12:06]
:END:

What are the non-reifiable types in Java?

**** Answer

1. A type variable, ~e.g~ T
2. A parameterized type with actual type parameters, e.g. ~List<String>~,
   ~Map<String, Integer>~
3. A parameterized type with bounds, e.g. ~List<? extends Number>~,
   ~Comparable<? super string>~

*** Item 25: Prefer Lists to Arrays - varargs                         :drill:
SCHEDULED: <2016-02-04 Thu>
:PROPERTIES:
:ID:       e69bf276-a239-4b57-8d9d-95fdb7f32340
:DRILL_LAST_INTERVAL: 4.274
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 2
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-31 Sun 10:28]
:END:

Should you use generics with varargs?

**** Answer

No, since varargs are an array, it doesn't play nice with generics.

*** Item 25: Prefer Lists to Arrays - mixing arrays and generics      :drill:
SCHEDULED: <2016-02-06 Sat>
:PROPERTIES:
:ID:       ff3d89a2-4c25-464e-acaf-65fa4d24a868
:DRILL_LAST_INTERVAL: 6.186
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 2
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-31 Sun 10:22]
:END:

When having trouble with arrays and generics what should you do?

**** Answer

Replace the arrays with List.

*** Item 26: Favor Generic Types - Steps to valid unchecked           :drill:
SCHEDULED: <2016-02-07 Sun>
:PROPERTIES:
:ID:       713c26e2-a1d8-4792-af9c-aa0f939204b6
:DRILL_LAST_INTERVAL: 5.2002
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.75
:DRILL_EASE: 2.56
:DRILL_LAST_QUALITY: 3
:DRILL_LAST_REVIEWED: [2016-02-02 Tue 11:58]
:END:

What steps should you take to prove an unchecked cast is type safe?

**** Answer

1. Ensure the field is private or immutable.
2. Ensure it doesn't escape the enclosing class by return or by parameter.
3. Ensure that all methods that modify the field are type-safe.
4. Explain in a comment why the cast is safe.

*** Item 26: Favor Generic Types - two methods for unchecked casts    :drill:
SCHEDULED: <2016-02-04 Thu>
:PROPERTIES:
:ID:       8878bbe7-300f-42df-abb9-c167bb28d5be
:DRILL_LAST_INTERVAL: 4.0545
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.667
:DRILL_EASE: 2.6
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-01-31 Sun 10:25]
:END:

What are the two places you will generally see unchecked casts?

**** Answer

At the construction site or at the call site.  The construction site is more
common because it only has to happen once.

*** Item 27: Favor Generic Methods - reduce redundancy                :drill:
SCHEDULED: <2016-02-04 Thu>
:PROPERTIES:
:ID:       1acd593f-72cb-452b-a596-5928c5887c77
:DRILL_LAST_INTERVAL: 4.3261
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 2
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-31 Sun 10:20]
:END:

How can you reduce the redundancy of instantiating a generic type?

**** Answer

Use a generic static factory method or use the diamond operator which will use
type inference.

*** Item 27: Favor Generic Methods - generic singleton factory        :drill:
SCHEDULED: <2016-02-04 Thu>
:PROPERTIES:
:ID:       43dc9b98-2b3c-47ed-b590-c5ea1dc13ab3
:DRILL_LAST_INTERVAL: 3.7259
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 2
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.46
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-31 Sun 10:21]
:END:

What is the generic singleton factory?

**** Answer

Used to create an object that is immutable but applicable to many different
types.  Because generics are implemented by erasure, you can use a single object
for all required type parameters.  This is better than using raw types because
you only have one unchecked cast.

# *** Item 27: Favor Generic Methods - impl generic singleton factory   :drill:

# How do you implement a generic singleton factory?

# **** Answer

# on hold

*** Item 27: Favor Generic Methods - mutual comparability             :drill:
SCHEDULED: <2016-02-05 Fri>
:PROPERTIES:
:ID:       ac29ca2c-1aca-4630-84a2-df67c02822c0
:DRILL_LAST_INTERVAL: 4.9481
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 2
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-31 Sun 10:23]
:END:

How do you express "for every type T that can be compared to itself"?

**** Answer

<T extends Comparable<T>>

*** Item 28: Use Bounded Wildcards - types of bounds                  :drill:
SCHEDULED: <2016-02-04 Thu>
:PROPERTIES:
:ID:       f54345c2-2ed8-46d7-a10d-07fdf9fe3839
:DRILL_LAST_INTERVAL: 3.3111
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 2
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 3.5
:DRILL_EASE: 2.36
:DRILL_LAST_QUALITY: 3
:DRILL_LAST_REVIEWED: [2016-02-01 Mon 10:40]
:END:

What are the types of bounded wildcards?

**** Answer

List<? extends Number> and List<? super Number>

*** Item 28: Use Bounded Wildcards - PECS                             :drill:
SCHEDULED: <2016-02-05 Fri>
:PROPERTIES:
:ID:       77348fda-8279-4d0a-b596-1828208e4ee6
:DRILL_LAST_INTERVAL: 4.0891
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 2
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-01 Mon 10:49]
:END:

What is PECS?

**** Answer

Producer extends, Consumer super

It's a mnemoic for remembering which bounds to place on method parameters for
generic arguments.

It's from the point of view of the argument.


Here, src is producing elements we're adding to our stack.
#+BEGIN_SRC java
public void pushAll(Iterable<? extends E> src) {
    for (E e : src)
        push(e); 
}
#+END_SRC


Here ~dest~ is consuming elements that we pop from our Stack
#+BEGIN_SRC java
// In class Stack
public void popAll(Collection<? super E> dest) {
    while (!isEmpty())
        dst.add(pop);
}
#+END_SRC

*** Item 28: Use Bounded Wildcards - return types                     :drill:
SCHEDULED: <2016-02-04 Thu>
:PROPERTIES:
:ID:       8f4d5f42-8be3-4a38-baa0-6fea2f8eff3a
:DRILL_LAST_INTERVAL: 2.0019
:DRILL_REPEATS_SINCE_FAIL: 2
:DRILL_TOTAL_REPEATS: 1
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.6
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-02 Tue 12:05]
:END:

What type should you return from generic code?

**** Answer

Not wildcard types.

*** Item 28: Use Bounded Wildcards - wildcard rule of thumb           :drill:
SCHEDULED: <2016-02-03 Wed>
:PROPERTIES:
:ID:       e3d40428-2383-40a8-8170-2b4237a995d8
:DRILL_LAST_INTERVAL: 1.4827
:DRILL_REPEATS_SINCE_FAIL: 2
:DRILL_TOTAL_REPEATS: 1
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.5
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-02-02 Tue 12:05]
:END:

What rule of thumb do you use for figuring out if your generic API is hard to
use?

**** Answer

If the user has to think about wildcard types, there's probably something wrong
with the API.

*** Item 28: Use Bounded Wildcards - explicit type parameters         :drill:
SCHEDULED: <2016-02-04 Thu>
:PROPERTIES:
:ID:       09978df4-e085-458f-9ca4-e6c7e677489e
:DRILL_LAST_INTERVAL: 1.7614
:DRILL_REPEATS_SINCE_FAIL: 2
:DRILL_TOTAL_REPEATS: 1
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.5
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-02-02 Tue 12:02]
:END:

How to you add explicit type parameters?

**** Answer

~Set<String> set = Collections.synchronizedSet(Sets.<String>newHashSet());~

*** Item 28: Use Bounded Wildcards - comparable and comparator        :drill:
SCHEDULED: <2016-02-04 Thu>
:PROPERTIES:
:ID:       f0a94b6f-533e-4360-b0d7-5471e9d06c1c
:DRILL_LAST_INTERVAL: 1.6945
:DRILL_REPEATS_SINCE_FAIL: 2
:DRILL_TOTAL_REPEATS: 1
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.6
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-02 Tue 12:04]
:END:

What bounds do you use for Comparable and Comparator?

**** Answer

Comparable<? super T> and Comparator<? super T>

Both interfaces are consumers.  They consume a object and produce an ordering.

*** Item 28: Use Bounded Wildcards - type param only once             :drill:
SCHEDULED: <2016-02-04 Thu>
:PROPERTIES:
:ID:       e220978c-d35b-495c-a74d-0d4db7d29d0f
:DRILL_LAST_INTERVAL: 1.6469
:DRILL_REPEATS_SINCE_FAIL: 2
:DRILL_TOTAL_REPEATS: 2
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.5
:DRILL_EASE: 2.6
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-02 Tue 12:06]
:END:

If a type parameter only appears once in a method declaration, what should you
do?

**** Answer

Replace it with a wild card.

You might have to use a private helper method to capture the type to do anything
useful with the item.

*** Item 29: Typesafe Heterogeneous containers - diff with container  :drill:
SCHEDULED: <2016-02-04 Thu>
:PROPERTIES:
:ID:       422876c6-b14f-4662-a571-011d25595ce0
:DRILL_LAST_INTERVAL: 1.6894
:DRILL_REPEATS_SINCE_FAIL: 2
:DRILL_TOTAL_REPEATS: 1
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.5
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-02-02 Tue 12:04]
:END:

What's the main difference between typesafe heterogeneous containers and a
collection?

**** Answer

The THC parameterizes the key instead of the container.

*** Item 29: Typesafe Heterogeneous containers - limitations          :drill:
SCHEDULED: <2016-02-04 Thu>
:PROPERTIES:
:ID:       80952072-e06c-4467-b612-9345de1b5174
:DRILL_LAST_INTERVAL: 1.5477
:DRILL_REPEATS_SINCE_FAIL: 2
:DRILL_TOTAL_REPEATS: 2
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.5
:DRILL_EASE: 2.6
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-02 Tue 12:07]
:END:

What are the limitations of typesafe heterogeneous containers?
collection?

**** Answer

1. You can bypass the type-safety by using the class in its raw form, though
   this is no different than any other generic container.
2. You can't use a non-reifiable type as a key.

** Enums and Annotations
*** Item 30: Use Enum instead of ints - associate data                :drill:
SCHEDULED: <2016-02-03 Wed>
:PROPERTIES:
:ID:       710d241f-434c-417c-a8c5-ad488101af9d
:DRILL_LAST_INTERVAL: 1.5964
:DRILL_REPEATS_SINCE_FAIL: 2
:DRILL_TOTAL_REPEATS: 1
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.6
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-01 Mon 10:50]
:END:

How do you associate data with an enum?

**** Answer

Declare an instance field and write a constructor that takes the data and stores
it in the field.

*** Item 30: Use Enum instead of ints - top-level vs member           :drill:
SCHEDULED: <2016-02-03 Wed>
:PROPERTIES:
:ID:       fbae22a9-8b04-4416-886b-805b27f3d971
:DRILL_LAST_INTERVAL: 1.9515
:DRILL_REPEATS_SINCE_FAIL: 2
:DRILL_TOTAL_REPEATS: 1
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.6
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-01 Mon 10:50]
:END:

Should you declare an enum as a top-level class or a member class?

**** Answer

If the enum is generally useful, declare it as a top-level class.  If it's
specific to one class, declare it as member of the specific class.

*** Item 30: Use Enum instead of ints - switches on enums             :drill:
SCHEDULED: <2016-02-03 Wed>
:PROPERTIES:
:ID:       e9da0beb-da67-4fed-8c42-0e83ddf8a1e3
:DRILL_LAST_INTERVAL: 1.5504
:DRILL_REPEATS_SINCE_FAIL: 2
:DRILL_TOTAL_REPEATS: 2
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.5
:DRILL_EASE: 2.6
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-01 Mon 10:54]
:END:

What should you generally use instead of switches on enums?

**** Answer

Declare an abstract method in the enum and override it with a constant-specific
method implementation.

#+BEGIN_SRC java
public enum Operation {
    PLUS { double apply(double x, double y) {return x + y;} }
    [...]
    abstract double apply(double x, double y);
}
#+END_SRC

*** Item 30: Use Enum instead of ints - share code                    :drill:
SCHEDULED: <2016-02-06 Sat>
:PROPERTIES:
:ID:       136d094a-ed19-458a-83d2-fc077daed11a
:DRILL_LAST_INTERVAL: 4.1842
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.0
:DRILL_EASE: 2.36
:DRILL_LAST_QUALITY: 3
:DRILL_LAST_REVIEWED: [2016-02-02 Tue 12:00]
:END:

What's the best way to share behavior specific code between enums?

**** Answer

+ Don't use a switch inside an enum.
+ Use a concrete-specific method implementation.
+ If that's too repetitive, use a member strategy enum.

The strategy enum pattern.
#+BEGIN_SRC java
public enum PayrollDay {

    SUNDAY(PayType.WEEKEND),
    MONDAY(PayType.WEEKDAY);

    private final PayType payType;

    PayrollDay(PayType payType) {
        this.payType = payType;
    }

    double pay(double hoursWorked, double payRate) {
        return payType.pay(hoursWorked, payRate);
    }

    private enum PayType {
        WEEKDAY {
            double overtimePay(double hours, double payRate) {
                return hours <= HOURS_PER_SHIFT ? 0 :
                    hours * payRate / 2;
            }
        },
        WEEKEND {
            double overtimePay(double hours, double payRate) {
                return hours * payRate / 2;
            }
        };
        private static final int HOURS_PER_SHIFT = 8;

        abstract double overtimePay(double hrs, double payRate);

        double pay(double hoursWorked, double payRate) {
            double basePay = hoursWorked + payRate;
            return basePay + overtimePay(hoursWorked, payRate);
        }
    }
}
#+END_SRC

*** Item 30: Use Enum instead of ints - when to use switch            :drill:
SCHEDULED: <2016-02-03 Wed>
:PROPERTIES:
:ID:       059c0edd-bbd2-43a9-8e34-05d38a67c799
:DRILL_LAST_INTERVAL: 1.5101
:DRILL_REPEATS_SINCE_FAIL: 2
:DRILL_TOTAL_REPEATS: 1
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 3.0
:DRILL_EASE: 2.36
:DRILL_LAST_QUALITY: 3
:DRILL_LAST_REVIEWED: [2016-02-01 Mon 10:49]
:END:

When is it okay to switch on an enum?

**** Answer

If you're augmenting external enum types with constant specific behavior.

*** Item 31: Use instance fields instead of ordinals - rule           :drill:
SCHEDULED: <2016-02-03 Wed>
:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       64926446-cac5-4356-bff2-a764342f1727
:DRILL_LAST_INTERVAL: 1.7103
:DRILL_REPEATS_SINCE_FAIL: 2
:DRILL_TOTAL_REPEATS: 1
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.6
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-01 Mon 10:49]
:END:

Never derive a value associated with an enum from its [ordinal]; store it in an
[instance field] instead;

*** Item 32: Use EnumSet instead of bit fields - what                 :drill:
SCHEDULED: <2016-02-04 Thu>
:PROPERTIES:
:ID:       728cac51-d43d-4ce2-be81-bc99352baf57
:DRILL_LAST_INTERVAL: 1.7817
:DRILL_REPEATS_SINCE_FAIL: 2
:DRILL_TOTAL_REPEATS: 1
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.6
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-02 Tue 12:05]
:END:

What should you use instead of bit fields?

**** Answer

An ~EnumSet~.  For enums with less than 64 elements, the bitset is represented
as a long and all operations are with bitwise operation, so it's fast.

*** Item 32: Use EnumSet instead of bit fields - immutable            :drill:
SCHEDULED: <2016-02-04 Thu>
:PROPERTIES:
:ID:       0d15569a-71aa-42a3-8a58-eb516f88f46f
:DRILL_LAST_INTERVAL: 1.7236
:DRILL_REPEATS_SINCE_FAIL: 2
:DRILL_TOTAL_REPEATS: 1
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.6
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-02 Tue 12:03]
:END:

How do you make an immutable enum set?

**** Answer

Guava's ~ImmutableSet~ with ~Sets.immutableEnumSet~
~Collections.unmodifiableSet()~, returns an immutable view to a mutable ~EnumSet~
*** Item 33: Use EnumMap instead of ordinal indexing                  :drill:
SCHEDULED: <2016-02-04 Thu>
:PROPERTIES:
:ID:       53cd9c72-c39d-48ad-9a91-5f2adb116524
:DRILL_LAST_INTERVAL: 1.8407
:DRILL_REPEATS_SINCE_FAIL: 2
:DRILL_TOTAL_REPEATS: 1
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.6
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-02 Tue 12:03]
:END:

How should you map an Enum to a value?

**** Answer

An ~EnumMap~.

*** Item 34: Emulate extensible enum with interfaces - use case       :drill:

What's the compelling use-case for extensible enums?

**** Answer

opcodes

*** Item 34: Emulate extensible enum with interfaces - how to         :drill:

How do you emulate extensible enums?

**** Answer

Implement an interface with the enum.  Then add an instance-specific method for
each instance.

#+BEGIN_SRC java
public interface Operation {
    double apply(double x, double y);
}

public enum BasicOperation implements Operation {
    PLUS("+") {
        public double apply(double x, double y) {
            return x + y;
        }
    };

    private final String symbol;

    public BasicOperation(String symbol) {
        this.symbol = symbol;
    }
}
#+END_SRC

*** Item 34: Emulate extensible enum with interfaces - type decl      :drill:

What's the type declaration for using an extensible enum?

**** Answer

To get the whole enum that you can then iterate over.
~<T extends Enum<T> & Operation>~

or convert the enum to an array of values and store it in a collection. 
~Collection<? extends Operation>~ 

* Consulting
** Breaking the Time Barrier

*** Seven Mutual Benefits                                           :drill:
SCHEDULED: <2016-02-22 Mon>
:PROPERTIES:
:ID:       8EA0BF20-DE9A-418A-B275-3D0A6BC3CDC6
:DRILL_LAST_INTERVAL: 31.5908
:DRILL_REPEATS_SINCE_FAIL: 6
:DRILL_TOTAL_REPEATS: 8
:DRILL_FAILURE_COUNT: 3
:DRILL_AVERAGE_QUALITY: 2.625
:DRILL_EASE: 1.94
:DRILL_LAST_QUALITY: 3
:DRILL_LAST_REVIEWED: [2016-01-21 Thu 13:24]
:END:

What are the seven mutual benefits of exploring value with clients?

**** Answer

1. Creates Trust - asking probing questions shows you're interested in
   understanding their unique problem.
2. Fosters Alignment - It's very helpful to agree on two points, Point A and
   Point B.  Point A is pain points. Point B is questions about goals.  A & B
   give immense clarity.
3. Helps your client better evaluate vendors - the deciding factor becomes who
   can deliver value versus what the price is.
4. Frames the Solution as an investment, not an expense - no one likes expenses
   and the exploration process makes the price an investment for an ROI
5. Inspires action - By helping a client to picture point B, they become
   emotionally involved and inspired to act.
6. Lets your client make an informed business decision - Offer options,
   i.e. price discrimination
7. Establishes a trusted partnership - After the first six benefits, clients see
   the impact of your work and champion for you.
* Psychology
** New Year's Resolutions Don't Work

URL: http://www.samuelthomasdavies.com/goals-systems/

Davies describes about how goal oriented people focus on the goal and then lose
motivation.  There's no driving factor after the goal is achieved.  Buzz Aldrin
turned to drinking and fell into depression after landing on the moon.  What you
should do instead is build systems.

System Overview

Identify a keystone habit

Use a feedback loop.

*** Goals are bad                                                     :drill:
SCHEDULED: <2016-02-06 Sat>
:PROPERTIES:
:ID:       10f40af7-186f-448e-a1fe-35e8c881ad84
:DRILL_LAST_INTERVAL: 19.3186
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 6
:DRILL_FAILURE_COUNT: 2
:DRILL_AVERAGE_QUALITY: 3.0
:DRILL_EASE: 2.22
:DRILL_LAST_QUALITY: 3
:DRILL_LAST_REVIEWED: [2016-01-18 Mon 03:11]
:END:

Why are goals bad?

**** Answer

1. Goals delay happiness.  Goal oriented exist in state of pre-success failure
   at best, or permanent failure.  Teach yourself to always put happiness off
   until the next milestone.  Hedonic adaptation.
2. Goals derail long-term progress.  Goals redirect focus from processes to
   outcomes.  After achieving goal, people fall back into old habits,
   e.g. cyclical weight loss.
3. Goals lure us into belieiving we can control the future.  Everest climbers
   made goal a part of their identity and jeopordized themselves to get the goal.

*** Hedonic Adaptation                                                :drill:
SCHEDULED: <2016-02-03 Wed>
:PROPERTIES:
:ID:       0048cd41-4170-47a4-aa65-23a9bc9c7817
:DRILL_LAST_INTERVAL: 17.7507
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 6
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.333
:DRILL_EASE: 2.22
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2016-01-16 Sat 13:58]
:END:

What is hedonic adaptation (hedonic treadmill)?

**** Answer

Tendency of humans to quickly return to a relatively stable level of happiness
despite major positive or negative events or life changes.

As we lose more weight, make more moeny, win more competition our expections
rise in tandem, which results in no permanent gain in happiness.


*** Build a system                                                    :drill:
SCHEDULED: <2016-02-27 Sat>
:PROPERTIES:
:ID:       5657a814-6be2-479d-9ba5-bc806e578282
:DRILL_LAST_INTERVAL: 28.5487
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 11
:DRILL_FAILURE_COUNT: 4
:DRILL_AVERAGE_QUALITY: 3.182
:DRILL_EASE: 2.48
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-29 Fri 15:42]
:END:

What are the steps to build a system instead of a goal?

**** Answer

moon rocket habit

1. Decide what you want to achieve.
2. Choose ONE habit that will nudge you toward the desired outcome.
3. Revise your system on a regular basis.

*** What to Achieve                                                   :drill:
SCHEDULED: <2016-02-10 Wed>
:PROPERTIES:
:ID:       9de25430-f028-4591-a97d-1e74bc205238
:DRILL_LAST_INTERVAL: 22.7778
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.5
:DRILL_EASE: 2.66
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-18 Mon 02:54]
:END:

How do you decide what you want to achieve?

**** Answer

Use the why drill.  Ask yourself why, five times in a row.  For example:

I want to lose 14 pounds.
Why?
Because I want to look good naked.
Why?
Because I want to feel good about my body.
Why?
Because I want to find my soul mate.
Why?
Because I want to settle down and start a family.

*** Keystone Habit                                                    :drill:
SCHEDULED: <2016-02-27 Sat>
:PROPERTIES:
:ID:       935adb91-8ffe-42dc-9ba9-d59003dd78d9
:DRILL_LAST_INTERVAL: 29.2043
:DRILL_REPEATS_SINCE_FAIL: 6
:DRILL_TOTAL_REPEATS: 8
:DRILL_FAILURE_COUNT: 2
:DRILL_AVERAGE_QUALITY: 3.25
:DRILL_EASE: 2.18
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-29 Fri 15:45]
:END:

What is a keystone habit and how do identify it?

**** Answer

What's the ONE thing, such that, by doing it, your goal (or what you want)
becomes a by product?

Write down as many habits as you can think off.  Identify ONE habit and
systemise it.

/The ONE Thing/ by Keller

*** Habitualise ONE Thing                                             :drill:
SCHEDULED: <2016-02-29 Mon>
:PROPERTIES:
:ID:       d51ec8b8-65ef-4264-a249-1a308dbd746a
:DRILL_LAST_INTERVAL: 31.6481
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 7
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.66
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-28 Thu 17:04]
:END:

How do you systemize your ONE thing with cue-habit-reward and implementation
intention?

**** Answer

System one down: Cue, Habit, Reward, Contingencies

Use implementation intention.

Identify a trigger.  The best triggers are immediately preceeding actions - like
an existing habit, e.g. eating, showering, waking up.

Identify ONE thing to do immediately after your cue.  For example, "After I
return home from work on Mondays, Tuesdays and Wednesdays, I will go for a run
for five miles."

Use a stupid simple behavior that's really easy to do.

Account for contingencies:

If I return home and the weather does not permit, I will go running in the
morning instead.

*** Gall's Law                                                        :drill:
SCHEDULED: <2016-02-09 Tue>
:PROPERTIES:
:ID:       29f0eb88-d255-49f5-8b75-9fc8c6bae6ae
:DRILL_LAST_INTERVAL: 18.7197
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 7
:DRILL_FAILURE_COUNT: 2
:DRILL_AVERAGE_QUALITY: 3.429
:DRILL_EASE: 2.42
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-21 Thu 13:16]
:END:

What is Gall's Law

**** Answer

A complex system that works is invariably found to have evolved from a simple
system that worked. A complex system designed from scratch never works and
cannot be patched up to make it work. You have to start over with a working
simple system. โ John Gall (1975, p.71)

*** Revise System                                                     :drill:
SCHEDULED: <2016-02-22 Mon>
:PROPERTIES:
:ID:       5e20c306-4d50-4d12-b458-ef270f9c1242
:DRILL_LAST_INTERVAL: 23.7189
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 9
:DRILL_FAILURE_COUNT: 3
:DRILL_AVERAGE_QUALITY: 3.222
:DRILL_EASE: 2.28
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-29 Fri 15:35]
:END:

How do you revise your system of accomplishment on a really, regular basis with
trebuchets?

**** Answer

Gall trebuchet model orca

+ Gall's law.  Evolve a complex system from a working simple system.
+ Use modeling.
+ Do more of what already works.
+ Use a feedback loop to identify what works and what doesn't.

*** Feedback Loop                                                     :drill:
SCHEDULED: <2016-02-14 Sun>
:PROPERTIES:
:ID:       8c6a1d60-c410-48b7-b6a9-a875255b85c4
:DRILL_LAST_INTERVAL: 23.6169
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 7
:DRILL_FAILURE_COUNT: 2
:DRILL_AVERAGE_QUALITY: 3.143
:DRILL_EASE: 2.18
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-21 Thu 13:15]
:END:

What are the stages of a feedback loop?

**** Answer

1. Evidence
2. Relevance
3. Consequence
4. Action

Goal - lose 10,000 lbs

+ Evidence - track calories, app notifes that bucket of lard put you over the limit
+ Relevance - information gets your attention because it shows if you're on
  target or not.
+ Consequence - you realise repeating this behavior could jeopardise your diet
  in the the long term.
+ Action - You learn from your mistake and replace snack with carrots.

*** Impact Bias                                                       :drill:
SCHEDULED: <2016-02-28 Sun>
:PROPERTIES:
:ID:       a3e8eb48-624b-4738-87da-082295451369
:DRILL_LAST_INTERVAL: 35.6577
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.25
:DRILL_EASE: 2.56
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-23 Sat 23:43]
:END:

What is impact bias?

**** Answer

The tendency to overestimate the length and intensity of our future emotions.
* Philosophy
** Ideas
*** Hanlon's Razor                                                    :drill:
SCHEDULED: <2016-02-03 Wed>
:PROPERTIES:
:ID:       3617fbd1-6b96-442f-8b82-dcf9d3c0ce6f
:DRILL_LAST_INTERVAL: 1.4919
:DRILL_REPEATS_SINCE_FAIL: 2
:DRILL_TOTAL_REPEATS: 2
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.5
:DRILL_EASE: 2.6
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-02-02 Tue 12:07]
:END:

What is Hanlon's razor?

**** Answer

"Never assume malice when stupidity will suffice."

A philosophical razor, that is, a way of eliminating unlikely explanations.

* Maven
** Udacity

*** Standard Maven Layout                                 :drill:
SCHEDULED: <2016-02-14 Sun>
:PROPERTIES:
:ID:       3f3d6cb8-fe88-4dc8-aaba-ea786e50e6ea
:DRILL_LAST_INTERVAL: 20.715
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 6
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.667
:DRILL_EASE: 2.42
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2016-01-24 Sun 15:24]
:END:

What is the standard maven layout?

**** Answer

- src
  - main
    - java
    - resources
    - webapp
    - filters
  - test
    - java
    - resources
    - filters
  - it
  - site
- target
LICENSE.txt
NOTICE.txt
README.txt

https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html
* Excel
** Formulas
*** Index and Match                                                   :drill:
SCHEDULED: <2016-03-01 Tue>
:PROPERTIES:
:ID:       09e90c89-c6a4-4599-9bde-1768676aa2da
:DRILL_LAST_INTERVAL: 27.6889
:DRILL_REPEATS_SINCE_FAIL: 5
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 3.5
:DRILL_EASE: 2.22
:DRILL_LAST_QUALITY: 3
:DRILL_LAST_REVIEWED: [2016-02-02 Tue 11:48]
:END:

Given the a data table and a summary table below, how do you get the missing
column to populate with index and match?

*Table 1*

| Last Name  | First Name | Rank |
|------------+------------+------|
| Patton     | George     | 2LT  |
| Washington | George     | CPT  |

*Table 2*

| Last Name  | Rank           |
|------------+----------------|
| Patton     | <FORMULA HERE> |
| Washington |                |

**** Answer

#+BEGIN_SRC 

INDEX(Table1,                                     // The table to search
      MATCH([@[Last Name]], Table1[Last Name]),   // Get the row of the last name in a specific column.
      3)                                          // Column number to pull from, starts from 1
#+END_SRC


